{
  "tests/integration/test_apigateway_integrations.py::test_lambda_proxy_integration": {
    "recorded-date": "08-01-2023, 15:09:38",
    "recorded-content": {
      "rest-api-creation": {
        "apiKeySource": "HEADER",
        "binaryMediaTypes": [
          "*/*"
        ],
        "createdDate": "datetime",
        "description": "Integration test API",
        "disableExecuteApiEndpoint": false,
        "endpointConfiguration": {
          "types": [
            "EDGE"
          ]
        },
        "id": "<id:1>",
        "name": "<name:1>",
        "version": "V1",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 201
        }
      },
      "invocation-payload-without-trailing-slash": {
        "body": "",
        "headers": {
          "Connection": "keep-alive",
          "Host": "<id:1>.execute-api.localhost.localstack.cloud:4566",
          "User-Agent": "python-requests/testing",
          "X-Forwarded-For": "<source-ip:1>, <id:1>.execute-api.localhost.localstack.cloud:4566",
          "accept": "*/*",
          "accept-encoding": "gzip, deflate",
          "tEsT-HEADeR": "aValUE",
          "x-localstack-edge": "http://<id:1>.execute-api.localhost.localstack.cloud:4566",
          "x-localstack-tgt-api": "apigateway"
        },
        "httpMethod": "GET",
        "isBase64Encoded": false,
        "multiValueHeaders": {
          "Connection": [
            "keep-alive"
          ],
          "Host": [
            "<id:1>.execute-api.localhost.localstack.cloud:4566"
          ],
          "User-Agent": [
            "python-requests/testing"
          ],
          "X-Forwarded-For": [
            "<source-ip:1>, <id:1>.execute-api.localhost.localstack.cloud:4566"
          ],
          "accept": [
            "*/*"
          ],
          "accept-encoding": [
            "gzip, deflate"
          ],
          "tEsT-HEADeR": [
            "aValUE"
          ],
          "x-localstack-edge": [
            "http://<id:1>.execute-api.localhost.localstack.cloud:4566"
          ],
          "x-localstack-tgt-api": [
            "apigateway"
          ]
        },
        "multiValueQueryStringParameters": null,
        "path": "/test-path",
        "pathParameters": {},
        "queryStringParameters": null,
        "requestContext": {
          "accountId": "111111111111",
          "apiId": "<id:1>",
          "authorizer": {},
          "domainName": "<id:1>.execute-api.localhost.localstack.cloud",
          "domainPrefix": "<id:1>",
          "httpMethod": "GET",
          "identity": {
            "accountId": "111111111111",
            "sourceIp": "<source-ip:1>",
            "userAgent": "python-requests/testing"
          },
          "path": "/test/test-path",
          "protocol": "HTTP/1.1",
          "requestId": "<uuid:1>",
          "requestTime": "<request-time>",
          "requestTimeEpoch": "<request-time-epoch>",
          "resourceId": "<resource-id:1>",
          "resourcePath": "/test-path",
          "stage": "test"
        },
        "resource": "/test-path",
        "stageVariables": {}
      },
      "invocation-payload-with-trailing-slash": {
        "body": "",
        "headers": {
          "Connection": "keep-alive",
          "Host": "<id:1>.execute-api.localhost.localstack.cloud:4566",
          "User-Agent": "python-requests/testing",
          "X-Forwarded-For": "<source-ip:1>, <id:1>.execute-api.localhost.localstack.cloud:4566",
          "accept": "*/*",
          "accept-encoding": "gzip, deflate",
          "tEsT-HEADeR": "aValUE",
          "x-localstack-edge": "http://<id:1>.execute-api.localhost.localstack.cloud:4566",
          "x-localstack-tgt-api": "apigateway"
        },
        "httpMethod": "GET",
        "isBase64Encoded": false,
        "multiValueHeaders": {
          "Connection": [
            "keep-alive"
          ],
          "Host": [
            "<id:1>.execute-api.localhost.localstack.cloud:4566"
          ],
          "User-Agent": [
            "python-requests/testing"
          ],
          "X-Forwarded-For": [
            "<source-ip:1>, <id:1>.execute-api.localhost.localstack.cloud:4566"
          ],
          "accept": [
            "*/*"
          ],
          "accept-encoding": [
            "gzip, deflate"
          ],
          "tEsT-HEADeR": [
            "aValUE"
          ],
          "x-localstack-edge": [
            "http://<id:1>.execute-api.localhost.localstack.cloud:4566"
          ],
          "x-localstack-tgt-api": [
            "apigateway"
          ]
        },
        "multiValueQueryStringParameters": null,
        "path": "/test-path/",
        "pathParameters": {},
        "queryStringParameters": null,
        "requestContext": {
          "accountId": "111111111111",
          "apiId": "<id:1>",
          "authorizer": {},
          "domainName": "<id:1>.execute-api.localhost.localstack.cloud",
          "domainPrefix": "<id:1>",
          "httpMethod": "GET",
          "identity": {
            "accountId": "111111111111",
            "sourceIp": "<source-ip:1>",
            "userAgent": "python-requests/testing"
          },
          "path": "/test/test-path/",
          "protocol": "HTTP/1.1",
          "requestId": "<uuid:2>",
          "requestTime": "<request-time>",
          "requestTimeEpoch": "<request-time-epoch>",
          "resourceId": "<resource-id:1>",
          "resourcePath": "/test-path",
          "stage": "test"
        },
        "resource": "/test-path",
        "stageVariables": {}
      },
      "invocation-payload-without-trailing-slash-and-query-params": {
        "body": "",
        "headers": {
          "Connection": "keep-alive",
          "Host": "<id:1>.execute-api.localhost.localstack.cloud:4566",
          "User-Agent": "python-requests/testing",
          "X-Forwarded-For": "<source-ip:1>, <id:1>.execute-api.localhost.localstack.cloud:4566",
          "accept": "*/*",
          "accept-encoding": "gzip, deflate",
          "tEsT-HEADeR": "aValUE",
          "x-localstack-edge": "http://<id:1>.execute-api.localhost.localstack.cloud:4566",
          "x-localstack-tgt-api": "apigateway"
        },
        "httpMethod": "GET",
        "isBase64Encoded": false,
        "multiValueHeaders": {
          "Connection": [
            "keep-alive"
          ],
          "Host": [
            "<id:1>.execute-api.localhost.localstack.cloud:4566"
          ],
          "User-Agent": [
            "python-requests/testing"
          ],
          "X-Forwarded-For": [
            "<source-ip:1>, <id:1>.execute-api.localhost.localstack.cloud:4566"
          ],
          "accept": [
            "*/*"
          ],
          "accept-encoding": [
            "gzip, deflate"
          ],
          "tEsT-HEADeR": [
            "aValUE"
          ],
          "x-localstack-edge": [
            "http://<id:1>.execute-api.localhost.localstack.cloud:4566"
          ],
          "x-localstack-tgt-api": [
            "apigateway"
          ]
        },
        "multiValueQueryStringParameters": {
          "urlparam": [
            "test"
          ]
        },
        "path": "/test-path",
        "pathParameters": {},
        "queryStringParameters": {
          "urlparam": "test"
        },
        "requestContext": {
          "accountId": "111111111111",
          "apiId": "<id:1>",
          "authorizer": {},
          "domainName": "<id:1>.execute-api.localhost.localstack.cloud",
          "domainPrefix": "<id:1>",
          "httpMethod": "GET",
          "identity": {
            "accountId": "111111111111",
            "sourceIp": "<source-ip:1>",
            "userAgent": "python-requests/testing"
          },
          "path": "/test/test-path",
          "protocol": "HTTP/1.1",
          "requestId": "<uuid:3>",
          "requestTime": "<request-time>",
          "requestTimeEpoch": "<request-time-epoch>",
          "resourceId": "<resource-id:1>",
          "resourcePath": "/test-path",
          "stage": "test"
        },
        "resource": "/test-path",
        "stageVariables": {}
      },
      "invocation-payload-with-trailing-slash-and-query-params": {
        "body": "",
        "headers": {
          "Connection": "keep-alive",
          "Host": "<id:1>.execute-api.localhost.localstack.cloud:4566",
          "User-Agent": "python-requests/testing",
          "X-Forwarded-For": "<source-ip:1>, <id:1>.execute-api.localhost.localstack.cloud:4566",
          "accept": "*/*",
          "accept-encoding": "gzip, deflate",
          "tEsT-HEADeR": "aValUE",
          "x-localstack-edge": "http://<id:1>.execute-api.localhost.localstack.cloud:4566",
          "x-localstack-tgt-api": "apigateway"
        },
        "httpMethod": "GET",
        "isBase64Encoded": false,
        "multiValueHeaders": {
          "Connection": [
            "keep-alive"
          ],
          "Host": [
            "<id:1>.execute-api.localhost.localstack.cloud:4566"
          ],
          "User-Agent": [
            "python-requests/testing"
          ],
          "X-Forwarded-For": [
            "<source-ip:1>, <id:1>.execute-api.localhost.localstack.cloud:4566"
          ],
          "accept": [
            "*/*"
          ],
          "accept-encoding": [
            "gzip, deflate"
          ],
          "tEsT-HEADeR": [
            "aValUE"
          ],
          "x-localstack-edge": [
            "http://<id:1>.execute-api.localhost.localstack.cloud:4566"
          ],
          "x-localstack-tgt-api": [
            "apigateway"
          ]
        },
        "multiValueQueryStringParameters": {
          "urlparam": [
            "test"
          ]
        },
        "path": "/test-path/",
        "pathParameters": {},
        "queryStringParameters": {
          "urlparam": "test"
        },
        "requestContext": {
          "accountId": "111111111111",
          "apiId": "<id:1>",
          "authorizer": {},
          "domainName": "<id:1>.execute-api.localhost.localstack.cloud",
          "domainPrefix": "<id:1>",
          "httpMethod": "GET",
          "identity": {
            "accountId": "111111111111",
            "sourceIp": "<source-ip:1>",
            "userAgent": "python-requests/testing"
          },
          "path": "/test/test-path/",
          "protocol": "HTTP/1.1",
          "requestId": "<uuid:4>",
          "requestTime": "<request-time>",
          "requestTimeEpoch": "<request-time-epoch>",
          "resourceId": "<resource-id:1>",
          "resourcePath": "/test-path",
          "stage": "test"
        },
        "resource": "/test-path",
        "stageVariables": {}
      }
    }
  }
}
