{
  "tests/integration/stepfunctions/v2/timeouts/test_heartbeats.py::TestHeartbeats::test_heartbeat_timeout": {
    "recorded-date": "30-05-2023, 21:53:50",
    "recorded-content": {
      "get_execution_history": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt"
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:aws:iam::111111111111:role/<resource:1>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt"
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "SendMessageWithWait"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "heartbeatInSeconds": 1,
              "parameters": {
                "MessageBody": {
                  "Message": "test_message_txt",
                  "TaskToken": "<task_token:1>"
                },
                "QueueUrl": "<sqs_queue_url>"
              },
              "region": "<region>",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs",
              "timeoutInSeconds": 600
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "MD5OfMessageBody": "a49c7d1b1fbe7c967e6c590d9c2fb877",
                "MessageId": "<uuid:1>",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:2>"
                    ],
                    "Content-Length": [
                      "378"
                    ],
                    "Date": [
                      "Tue, 30 May 2023 19:53:48 GMT"
                    ],
                    "Content-Type": [
                      "text/xml"
                    ]
                  },
                  "HttpHeaders": {
                    "Content-Length": "378",
                    "Content-Type": "text/xml",
                    "Date": "Tue, 30 May 2023 19:53:48 GMT",
                    "x-amzn-RequestId": "<uuid:2>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:2>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskTimedOutEventDetails": {
              "error": "States.Timeout",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskTimedOut"
          },
          {
            "executionFailedEventDetails": {
              "error": "States.Timeout"
            },
            "id": 7,
            "previousEventId": 6,
            "timestamp": "timestamp",
            "type": "ExecutionFailed"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/integration/stepfunctions/v2/timeouts/test_heartbeats.py::TestHeartbeats::test_heartbeat_no_timeout": {
    "recorded-date": "30-05-2023, 21:58:13",
    "recorded-content": {
      "get_execution_history": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt"
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:aws:iam::111111111111:role/<resource:1>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt"
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "SendMessageWithWait"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "heartbeatInSeconds": 1,
              "parameters": {
                "MessageBody": {
                  "Message": "test_message_txt",
                  "TaskToken": "<task_token:1>"
                },
                "QueueUrl": "<sqs_queue_url>"
              },
              "region": "<region>",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "MD5OfMessageBody": "3dd59e6b2c2179516b424b1fc897d9e6",
                "MessageId": "<uuid:1>",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:2>"
                    ],
                    "Content-Length": [
                      "378"
                    ],
                    "Date": [
                      "Tue, 30 May 2023 19:58:12 GMT"
                    ],
                    "Content-Type": [
                      "text/xml"
                    ]
                  },
                  "HttpHeaders": {
                    "Content-Length": "378",
                    "Content-Type": "text/xml",
                    "Date": "Tue, 30 May 2023 19:58:12 GMT",
                    "x-amzn-RequestId": "<uuid:2>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:2>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskTimedOutEventDetails": {
              "error": "States.Timeout",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskTimedOut"
          },
          {
            "executionFailedEventDetails": {
              "error": "States.Timeout"
            },
            "id": 7,
            "previousEventId": 6,
            "timestamp": "timestamp",
            "type": "ExecutionFailed"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/integration/stepfunctions/v2/timeouts/test_heartbeats.py::TestHeartbeats::test_heartbeat_path_timeout": {
    "recorded-date": "02-06-2023, 14:21:14",
    "recorded-content": {
      "get_execution_history": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt",
                "HeartbeatSecondsPath": 1
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:aws:iam::111111111111:role/<resource:1>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt",
                "HeartbeatSecondsPath": 1
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "SendMessageWithWait"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "heartbeatInSeconds": 1,
              "parameters": {
                "MessageBody": {
                  "Message": "test_message_txt",
                  "TaskToken": "<task_token:1>"
                },
                "QueueUrl": "<sqs_queue_url>"
              },
              "region": "<region>",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs",
              "timeoutInSeconds": 600
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "MD5OfMessageBody": "5914c51a0d80dca647338f3b5cc6c0e2",
                "MessageId": "<uuid:1>",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:2>"
                    ],
                    "Content-Length": [
                      "378"
                    ],
                    "Date": [
                      "Fri, 02 Jun 2023 12:21:12 GMT"
                    ],
                    "Content-Type": [
                      "text/xml"
                    ]
                  },
                  "HttpHeaders": {
                    "Content-Length": "378",
                    "Content-Type": "text/xml",
                    "Date": "Fri, 02 Jun 2023 12:21:12 GMT",
                    "x-amzn-RequestId": "<uuid:2>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:2>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskTimedOutEventDetails": {
              "error": "States.Timeout",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskTimedOut"
          },
          {
            "executionFailedEventDetails": {
              "error": "States.Timeout"
            },
            "id": 7,
            "previousEventId": 6,
            "timestamp": "timestamp",
            "type": "ExecutionFailed"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  }
}
