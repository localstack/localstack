{
  "tests/integration/awslambda/test_lambda_api.py::TestLambdaEventInvokeConfig::test_lambda_eventinvokeconfig_exceptions": {
    "recorded-date": "29-09-2022, 11:46:24",
    "recorded-content": {
      "fn_version_result": {
        "Architectures": [
          "x86_64"
        ],
        "CodeSha256": "<code-sha256:1>",
        "CodeSize": 264,
        "Description": "",
        "Environment": {
          "Variables": {}
        },
        "EphemeralStorage": {
          "Size": 512
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:1",
        "FunctionName": "<function-name:1>",
        "Handler": "handler.handler",
        "LastModified": "date",
        "LastUpdateStatus": "Successful",
        "MemorySize": 128,
        "PackageType": "Zip",
        "RevisionId": "<uuid:1>",
        "Role": "arn:aws:iam::111111111111:role/<resource:2>",
        "Runtime": "python3.9",
        "State": "Active",
        "Timeout": 30,
        "TracingConfig": {
          "Mode": "PassThrough"
        },
        "Version": "1",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 201
        }
      },
      "fn_alias_result": {
        "AliasArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:eventinvokealias",
        "Description": "",
        "FunctionVersion": "1",
        "Name": "eventinvokealias",
        "RevisionId": "<uuid:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 201
        }
      },
      "put_functionname_name_notfound": {
        "Error": {
          "Code": "ResourceNotFoundException",
          "Message": "The function doesn't exist."
        },
        "Message": "The function doesn't exist.",
        "Type": "User",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 404
        }
      },
      "put_functionname_arn_notfound": {
        "Error": {
          "Code": "ResourceNotFoundException",
          "Message": "The function doesn't exist."
        },
        "Message": "The function doesn't exist.",
        "Type": "User",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 404
        }
      },
      "put_functionname_nootherargs": {
        "Error": {
          "Code": "InvalidParameterValueException",
          "Message": "You must specify at least one of error handling or destination setting."
        },
        "Type": "User",
        "message": "You must specify at least one of error handling or destination setting.",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 400
        }
      },
      "put_destination_lambda_doesntexist": {
        "Error": {
          "Code": "InvalidParameterValueException",
          "Message": "The destination ARN arn:aws:lambda:<region>:111111111111:function:doesnotexist is invalid."
        },
        "Type": "User",
        "message": "The destination ARN arn:aws:lambda:<region>:111111111111:function:doesnotexist is invalid.",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 400
        }
      },
      "put_destination_recursive": {
        "Error": {
          "Code": "InvalidParameterValueException",
          "Message": "You can't specify the function as a destination for itself."
        },
        "Type": "User",
        "message": "You can't specify the function as a destination for itself.",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 400
        }
      },
      "put_destination_other_lambda": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {
            "Destination": "arn:aws:lambda:<region>:111111111111:function:<resource:4>"
          }
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:$LATEST",
        "LastModified": "datetime",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "put_destination_invalid_service_arn": {
        "Error": {
          "Code": "InvalidParameterValueException",
          "Message": "The provided destination config DestinationConfig(onSuccess=OnSuccess(destination=arn:aws:iam:<region>:111111111111:function:<function-name:1>), onFailure=null) is invalid."
        },
        "Type": "User",
        "message": "The provided destination config DestinationConfig(onSuccess=OnSuccess(destination=arn:aws:iam:<region>:111111111111:function:<function-name:1>), onFailure=null) is invalid.",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 400
        }
      },
      "put_destination_success_no_destination_arn": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {}
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:$LATEST",
        "LastModified": "datetime",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "put_destination_failure_no_destination_arn": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {}
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:$LATEST",
        "LastModified": "datetime",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "put_destination_invalid_arn_pattern": {
        "Error": {
          "Code": "ValidationException",
          "Message": "1 validation error detected: Value 'arn:aws:_-/!lambda:<region>:111111111111:function:<function-name:1>' at 'destinationConfig.onFailure.destination' failed to satisfy constraint: Member must satisfy regular expression pattern: ^$|arn:(aws[a-zA-Z0-9-]*):([a-zA-Z0-9\\-])+:([a-z]{2}((-gov)|(-iso(b?)))?-[a-z]+-\\d{1})?:(\\d{12})?:(.*)"
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 400
        }
      },
      "put_destination_latest": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {}
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:$LATEST",
        "LastModified": "datetime",
        "MaximumRetryAttempts": 1,
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "put_destination_latest_explicit_qualifier": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {}
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:$LATEST",
        "LastModified": "datetime",
        "MaximumRetryAttempts": 1,
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "put_destination_version": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {}
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:1",
        "LastModified": "datetime",
        "MaximumRetryAttempts": 1,
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "put_alias_functionname_qualifier": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {}
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:eventinvokealias",
        "LastModified": "datetime",
        "MaximumRetryAttempts": 1,
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "put_alias_doesnotexist": {
        "Error": {
          "Code": "ResourceNotFoundException",
          "Message": "The function doesn't exist."
        },
        "Message": "The function doesn't exist.",
        "Type": "User",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 404
        }
      },
      "put_alias_qualifiedarn": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {}
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:eventinvokealias",
        "LastModified": "datetime",
        "MaximumRetryAttempts": 1,
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "put_alias_qualifiedarn_qualifier": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {}
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:eventinvokealias",
        "LastModified": "datetime",
        "MaximumRetryAttempts": 1,
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "put_alias_qualifiedarn_qualifierconflict": {
        "Error": {
          "Code": "InvalidParameterValueException",
          "Message": "The derived qualifier from the function name does not match the specified qualifier."
        },
        "Type": "User",
        "message": "The derived qualifier from the function name does not match the specified qualifier.",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 400
        }
      },
      "put_alias_shorthand": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {}
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:eventinvokealias",
        "LastModified": "datetime",
        "MaximumRetryAttempts": 1,
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "put_alias_shorthand_qualifier": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {}
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:eventinvokealias",
        "LastModified": "datetime",
        "MaximumRetryAttempts": 1,
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "put_alias_shorthand_qualifierconflict": {
        "Error": {
          "Code": "InvalidParameterValueException",
          "Message": "The derived qualifier from the function name does not match the specified qualifier."
        },
        "Type": "User",
        "message": "The derived qualifier from the function name does not match the specified qualifier.",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 400
        }
      },
      "put_version_shorthand": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {}
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:1",
        "LastModified": "datetime",
        "MaximumRetryAttempts": 1,
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "put_shorthand_qualifier_match": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {}
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:$LATEST",
        "LastModified": "datetime",
        "MaximumRetryAttempts": 1,
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "put_shorthand_qualifier_mismatch_1": {
        "Error": {
          "Code": "InvalidParameterValueException",
          "Message": "The derived qualifier from the function name does not match the specified qualifier."
        },
        "Type": "User",
        "message": "The derived qualifier from the function name does not match the specified qualifier.",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 400
        }
      },
      "put_shorthand_qualifier_mismatch_2": {
        "Error": {
          "Code": "InvalidParameterValueException",
          "Message": "The derived qualifier from the function name does not match the specified qualifier."
        },
        "Type": "User",
        "message": "The derived qualifier from the function name does not match the specified qualifier.",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 400
        }
      },
      "put_shorthand_qualifier_mismatch_3": {
        "Error": {
          "Code": "InvalidParameterValueException",
          "Message": "The derived qualifier from the function name does not match the specified qualifier."
        },
        "Type": "User",
        "message": "The derived qualifier from the function name does not match the specified qualifier.",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 400
        }
      },
      "put_pre_overwrite": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {}
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:$LATEST",
        "LastModified": "datetime",
        "MaximumEventAgeInSeconds": 60,
        "MaximumRetryAttempts": 2,
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "put_post_overwrite": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {}
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:$LATEST",
        "LastModified": "datetime",
        "MaximumRetryAttempts": 0,
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "second_overwrite_existing_response": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {}
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:$LATEST",
        "LastModified": "datetime",
        "MaximumRetryAttempts": 0,
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "get_post_overwrite": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {}
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:$LATEST",
        "LastModified": "datetime",
        "MaximumRetryAttempts": 0,
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "pre_update_response": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {}
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:$LATEST",
        "LastModified": "datetime",
        "MaximumEventAgeInSeconds": 60,
        "MaximumRetryAttempts": 2,
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "update_response": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {}
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:$LATEST",
        "LastModified": "datetime",
        "MaximumEventAgeInSeconds": 60,
        "MaximumRetryAttempts": 0,
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "update_response_existing": {
        "DestinationConfig": {
          "OnFailure": {},
          "OnSuccess": {}
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:$LATEST",
        "LastModified": "datetime",
        "MaximumEventAgeInSeconds": 60,
        "MaximumRetryAttempts": 0,
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "list_configs": {
        "FunctionEventInvokeConfigs": [
          {
            "DestinationConfig": {
              "OnFailure": {},
              "OnSuccess": {}
            },
            "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:$LATEST",
            "LastModified": "datetime",
            "MaximumEventAgeInSeconds": 60,
            "MaximumRetryAttempts": 0
          },
          {
            "DestinationConfig": {
              "OnFailure": {},
              "OnSuccess": {}
            },
            "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:1",
            "LastModified": "datetime",
            "MaximumRetryAttempts": 1
          },
          {
            "DestinationConfig": {
              "OnFailure": {},
              "OnSuccess": {}
            },
            "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>:eventinvokealias",
            "LastModified": "datetime",
            "MaximumRetryAttempts": 1
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "delete_latest": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 204
        }
      },
      "delete_version": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 204
        }
      },
      "delete_alias": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 204
        }
      },
      "list_configs_postdelete": {
        "FunctionEventInvokeConfigs": [],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "get_function_doesnotexist": {
        "Error": {
          "Code": "ResourceNotFoundException",
          "Message": "The function arn:aws:lambda:<region>:111111111111:function:doesnotexist:$LATEST doesn't have an EventInvokeConfig"
        },
        "Message": "The function arn:aws:lambda:<region>:111111111111:function:doesnotexist:$LATEST doesn't have an EventInvokeConfig",
        "Type": "User",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 404
        }
      },
      "get_qualifier_doesnotexist": {
        "Error": {
          "Code": "ResourceNotFoundException",
          "Message": "The function arn:aws:lambda:<region>:111111111111:function:<function-name:1>:doesnotexist doesn't have an EventInvokeConfig"
        },
        "Message": "The function arn:aws:lambda:<region>:111111111111:function:<function-name:1>:doesnotexist doesn't have an EventInvokeConfig",
        "Type": "User",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 404
        }
      },
      "get_eventinvokeconfig_doesnotexist": {
        "Error": {
          "Code": "ResourceNotFoundException",
          "Message": "The function arn:aws:lambda:<region>:111111111111:function:<function-name:1>:eventinvokealias doesn't have an EventInvokeConfig"
        },
        "Message": "The function arn:aws:lambda:<region>:111111111111:function:<function-name:1>:eventinvokealias doesn't have an EventInvokeConfig",
        "Type": "User",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 404
        }
      }
    }
  }
}
