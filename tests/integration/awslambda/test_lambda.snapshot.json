{
  "tests/integration/awslambda/test_lambda.py::TestLambdaFeatures::test_basic_invoke": {
    "recorded-date": "01-09-2022, 08:22:26",
    "recorded-content": {
      "lambda_create_fn": {
        "CodeSha256": "code-sha256",
        "CodeSize": 276,
        "Description": "",
        "EphemeralStorage": {
          "Size": 512
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>",
        "FunctionName": "<function-name:1>",
        "Handler": "index.handler",
        "LastModified": "date",
        "MemorySize": 128,
        "PackageType": "Zip",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 201
        },
        "RevisionId": "<uuid:1>",
        "Role": "arn:aws:iam::111111111111:role/<resource:1>",
        "Runtime": "python3.9",
        "State": "Pending",
        "StateReason": "The function is being created.",
        "StateReasonCode": "Creating",
        "Timeout": 3,
        "TracingConfig": {
          "Mode": "PassThrough"
        },
        "Version": "$LATEST"
      },
      "lambda_create_fn_2": {
        "CodeSha256": "code-sha256",
        "CodeSize": 276,
        "Description": "",
        "EphemeralStorage": {
          "Size": 512
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:2>",
        "FunctionName": "<function-name:2>",
        "Handler": "index.handler",
        "LastModified": "date",
        "MemorySize": 128,
        "PackageType": "Zip",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 201
        },
        "RevisionId": "<uuid:2>",
        "Role": "arn:aws:iam::111111111111:role/<resource:1>",
        "Runtime": "python3.9",
        "State": "Pending",
        "StateReason": "The function is being created.",
        "StateReasonCode": "Creating",
        "Timeout": 3,
        "TracingConfig": {
          "Mode": "PassThrough"
        },
        "Version": "$LATEST"
      },
      "lambda_get_fn": {
        "Code": {
          "Location": "<location>",
          "RepositoryType": "S3"
        },
        "Configuration": {
          "CodeSha256": "code-sha256",
          "CodeSize": 276,
          "Description": "",
          "EphemeralStorage": {
            "Size": 512
          },
          "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>",
          "FunctionName": "<function-name:1>",
          "Handler": "index.handler",
          "LastModified": "date",
          "LastUpdateStatus": "Successful",
          "MemorySize": 128,
          "PackageType": "Zip",
          "RevisionId": "<uuid:3>",
          "Role": "arn:aws:iam::111111111111:role/<resource:1>",
          "Runtime": "python3.9",
          "State": "Active",
          "Timeout": 3,
          "TracingConfig": {
            "Mode": "PassThrough"
          },
          "Version": "$LATEST"
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "lambda_get_fn_2": {
        "Code": {
          "Location": "<location>",
          "RepositoryType": "S3"
        },
        "Configuration": {
          "CodeSha256": "code-sha256",
          "CodeSize": 276,
          "Description": "",
          "EphemeralStorage": {
            "Size": 512
          },
          "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:2>",
          "FunctionName": "<function-name:2>",
          "Handler": "index.handler",
          "LastModified": "date",
          "LastUpdateStatus": "Successful",
          "MemorySize": 128,
          "PackageType": "Zip",
          "RevisionId": "<uuid:4>",
          "Role": "arn:aws:iam::111111111111:role/<resource:1>",
          "Runtime": "python3.9",
          "State": "Active",
          "Timeout": 3,
          "TracingConfig": {
            "Mode": "PassThrough"
          },
          "Version": "$LATEST"
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "lambda_invoke_result": {
        "ExecutedVersion": "$LATEST",
        "Payload": {},
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        },
        "StatusCode": 200
      }
    }
  },
  "tests/integration/awslambda/test_lambda.py::TestLambdaURL::test_lambda_url_invocation": {
    "recorded-date": "31-08-2022, 17:33:27",
    "recorded-content": {
      "create_lambda_url_config": {
        "AuthType": "NONE",
        "CreationTime": "date",
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<resource:1>",
        "FunctionUrl": "function-url",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 201
        }
      },
      "add_permission": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 201
        },
        "Statement": {
          "Sid": "urlPermission",
          "Effect": "Allow",
          "Principal": "*",
          "Action": "lambda:InvokeFunctionUrl",
          "Resource": "arn:aws:lambda:<region>:111111111111:function:<resource:1>",
          "Condition": {
            "StringEquals": {
              "lambda:FunctionUrlAuthType": "NONE"
            }
          }
        }
      },
      "lambda_url_invocation": {
        "context": {
          "awsRequestId": "<uuid:1>",
          "callbackWaitsForEmptyEventLoop": true,
          "functionName": "<resource:1>",
          "functionVersion": "$LATEST",
          "invokedFunctionArn": "arn:aws:lambda:<region>:111111111111:function:<resource:1>",
          "logGroupName": "/aws/lambda/<resource:1>",
          "logStreamName": "<log-stream-name:1>",
          "memoryLimitInMB": "128"
        },
        "event": {
          "body": "eydrZXknOid2YWx1ZSd9",
          "headers": {
            "accept": "*/*",
            "accept-encoding": "gzip, deflate",
            "content-length": "15",
            "host": "lambda-url",
            "user-agent": "python-requests/testing",
            "x-amzn-tls-cipher-suite": "ECDHE-RSA-AES128-GCM-SHA256",
            "x-amzn-tls-version": "TLSv1.2",
            "x-amzn-trace-id": "x-amzn-trace-id",
            "x-forwarded-for": "ip-address",
            "x-forwarded-port": "443",
            "x-forwarded-proto": "https"
          },
          "isBase64Encoded": true,
          "queryStringParameters": {
            "test_param": "test_value"
          },
          "rawPath": "/custom_path/extend",
          "rawQueryString": "test_param=test_value",
          "requestContext": {
            "accountId": "anonymous",
            "apiId": "api-id",
            "domainName": "lambda-url",
            "domainPrefix": "api-id",
            "http": {
              "method": "POST",
              "path": "/custom_path/extend",
              "protocol": "HTTP/1.1",
              "sourceIp": "ip-address",
              "userAgent": "python-requests/testing"
            },
            "requestId": "request-id",
            "routeKey": "$default",
            "stage": "$default",
            "time": "readable-date",
            "timeEpoch": "epoch-milliseconds"
          },
          "routeKey": "$default",
          "version": "2.0"
        }
      }
    }
  },
  "tests/integration/awslambda/test_lambda.py::TestLambdaBehavior::test_lambda_cache_local[nodejs]": {
    "recorded-date": "01-09-2022, 07:36:39",
    "recorded-content": {
      "first_invoke_result": {
        "ExecutedVersion": "$LATEST",
        "Payload": {
          "counter": 0
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        },
        "StatusCode": 200
      },
      "second_invoke_result": {
        "ExecutedVersion": "$LATEST",
        "Payload": {
          "counter": 1
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        },
        "StatusCode": 200
      }
    }
  },
  "tests/integration/awslambda/test_lambda.py::TestLambdaBehavior::test_lambda_cache_local[python]": {
    "recorded-date": "01-09-2022, 07:36:55",
    "recorded-content": {
      "first_invoke_result": {
        "ExecutedVersion": "$LATEST",
        "Payload": {
          "counter": 0
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        },
        "StatusCode": 200
      },
      "second_invoke_result": {
        "ExecutedVersion": "$LATEST",
        "Payload": {
          "counter": 1
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        },
        "StatusCode": 200
      }
    }
  },
  "tests/integration/awslambda/test_lambda.py::TestLambdaBehavior::test_lambda_invoke_with_timeout[python]": {
    "recorded-date": "01-09-2022, 07:30:08",
    "recorded-content": {
      "create-result": {
        "CreateEventSourceMappingResponse": null,
        "CreateFunctionResponse": {
          "CodeSha256": "code-sha256",
          "CodeSize": 373,
          "Description": "",
          "Environment": {
            "Variables": {}
          },
          "EphemeralStorage": {
            "Size": 512
          },
          "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>",
          "FunctionName": "<function-name:1>",
          "Handler": "handler.handler",
          "LastModified": "date",
          "MemorySize": 128,
          "PackageType": "Zip",
          "ResponseMetadata": {
            "HTTPHeaders": {},
            "HTTPStatusCode": 201
          },
          "RevisionId": "<uuid:1>",
          "Role": "arn:aws:iam::111111111111:role/<resource:1>",
          "Runtime": "python3.8",
          "State": "Pending",
          "StateReason": "The function is being created.",
          "StateReasonCode": "Creating",
          "Timeout": 1,
          "TracingConfig": {
            "Mode": "PassThrough"
          },
          "Version": "$LATEST"
        }
      },
      "invoke-result": {
        "ExecutedVersion": "$LATEST",
        "FunctionError": "Unhandled",
        "Payload": {
          "errorMessage": "date <timeout_error_msg> Task timed out after 1.00 seconds"
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        },
        "StatusCode": 200
      }
    }
  },
  "tests/integration/awslambda/test_lambda.py::TestLambdaBehavior::test_lambda_invoke_no_timeout[python]": {
    "recorded-date": "01-09-2022, 07:40:47",
    "recorded-content": {
      "create-result": {
        "CreateEventSourceMappingResponse": null,
        "CreateFunctionResponse": {
          "CodeSha256": "code-sha256",
          "CodeSize": 373,
          "Description": "",
          "Environment": {
            "Variables": {}
          },
          "EphemeralStorage": {
            "Size": 512
          },
          "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>",
          "FunctionName": "<function-name:1>",
          "Handler": "handler.handler",
          "LastModified": "date",
          "MemorySize": 128,
          "PackageType": "Zip",
          "ResponseMetadata": {
            "HTTPHeaders": {},
            "HTTPStatusCode": 201
          },
          "RevisionId": "<uuid:1>",
          "Role": "arn:aws:iam::111111111111:role/<resource:1>",
          "Runtime": "python3.8",
          "State": "Pending",
          "StateReason": "The function is being created.",
          "StateReasonCode": "Creating",
          "Timeout": 2,
          "TracingConfig": {
            "Mode": "PassThrough"
          },
          "Version": "$LATEST"
        }
      },
      "invoke-result": {
        "ExecutedVersion": "$LATEST",
        "Payload": "null",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        },
        "StatusCode": 200
      }
    }
  },
  "tests/integration/awslambda/test_lambda.py::TestLambdaBaseFeatures::test_function_state": {
    "recorded-date": "01-09-2022, 07:47:48",
    "recorded-content": {
      "create-fn-response": {
        "CodeSha256": "code-sha256",
        "CodeSize": 264,
        "Description": "",
        "EphemeralStorage": {
          "Size": 512
        },
        "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>",
        "FunctionName": "<function-name:1>",
        "Handler": "handler.handler",
        "LastModified": "date",
        "MemorySize": 128,
        "PackageType": "Zip",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 201
        },
        "RevisionId": "<uuid:1>",
        "Role": "arn:aws:iam::111111111111:role/<resource:1>",
        "Runtime": "python3.9",
        "State": "Pending",
        "StateReason": "The function is being created.",
        "StateReasonCode": "Creating",
        "Timeout": 3,
        "TracingConfig": {
          "Mode": "PassThrough"
        },
        "Version": "$LATEST"
      },
      "get-fn-response": {
        "Code": {
          "Location": "<location>",
          "RepositoryType": "S3"
        },
        "Configuration": {
          "CodeSha256": "code-sha256",
          "CodeSize": 264,
          "Description": "",
          "EphemeralStorage": {
            "Size": 512
          },
          "FunctionArn": "arn:aws:lambda:<region>:111111111111:function:<function-name:1>",
          "FunctionName": "<function-name:1>",
          "Handler": "handler.handler",
          "LastModified": "date",
          "LastUpdateStatus": "Successful",
          "MemorySize": 128,
          "PackageType": "Zip",
          "RevisionId": "<uuid:2>",
          "Role": "arn:aws:iam::111111111111:role/<resource:1>",
          "Runtime": "python3.9",
          "State": "Active",
          "Timeout": 3,
          "TracingConfig": {
            "Mode": "PassThrough"
          },
          "Version": "$LATEST"
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/integration/awslambda/test_lambda.py::TestLambdaBaseFeatures::test_large_payloads": {
    "recorded-date": "01-09-2022, 08:12:32",
    "recorded-content": {
      "invocation_response": {
        "ExecutedVersion": "$LATEST",
        "Payload": {
          "test": "<large-value>"
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        },
        "StatusCode": 200
      }
    }
  }
}
