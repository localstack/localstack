{
  "tests/aws/services/cloudformation/api/test_transformers.py::test_duplicate_resources": {
    "recorded-date": "15-04-2024, 22:51:13",
    "recorded-content": {
      "api-details": {
        "apiKeySource": "HEADER",
        "createdDate": "datetime",
        "disableExecuteApiEndpoint": false,
        "endpointConfiguration": {
          "types": [
            "EDGE"
          ]
        },
        "id": "<id:1>",
        "name": "<name:1>",
        "rootResourceId": "<id:2>",
        "tags": {
          "aws:cloudformation:logical-id": "RestApi",
          "aws:cloudformation:stack-id": "<aws:cloudformation:stack-id:1>",
          "aws:cloudformation:stack-name": "<aws:cloudformation:stack-name:1>"
        },
        "version": "1.2.3",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "api-resources": {
        "items": [
          {
            "id": "<id:2>",
            "path": "/"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/aws/services/cloudformation/api/test_transformers.py::test_transformer_property_level": {
    "recorded-date": "06-06-2024, 10:37:03",
    "recorded-content": {
      "original_template": {
        "StagesAvailable": [
          "Original",
          "Processed"
        ],
        "TemplateBody": "\nParameters:\n  BucketName:\n    Type: String\nResources:\n  MyParameter:\n    Type: AWS::SSM::Parameter\n    Properties:\n      Description: hello\n      Type: String\n      \"Fn::Transform\":\n        Name: \"AWS::Include\"\n        Parameters:\n          Location: !Sub \"s3://${BucketName}/data.yaml\"\nOutputs:\n  ParameterName:\n    Value: !Ref MyParameter\n",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "processed_template": {
        "StagesAvailable": [
          "Original",
          "Processed"
        ],
        "TemplateBody": {
          "Outputs": {
            "ParameterName": {
              "Value": {
                "Ref": "MyParameter"
              }
            }
          },
          "Parameters": {
            "BucketName": {
              "Type": "String"
            }
          },
          "Resources": {
            "MyParameter": {
              "Properties": {
                "Description": "hello",
                "Type": "String",
                "Value": "from_transformation"
              },
              "Type": "AWS::SSM::Parameter"
            }
          }
        },
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/aws/services/cloudformation/api/test_transformers.py::test_language_extensions": {
    "recorded-date": "27-06-2025, 16:00:24",
    "recorded-content": {
      "parameter-value": {
        "ARN": "arn:<partition>:ssm:<region>:111111111111:parameter/<parameter-name>",
        "DataType": "text",
        "LastModifiedDate": "datetime",
        "Name": "<parameter-name>",
        "Type": "String",
        "Value": "3",
        "Version": 1
      }
    }
  },
  "tests/aws/services/cloudformation/api/test_transformers.py::TestLanguageExtensionsTransform::test_transform_length": {
    "recorded-date": "27-06-2025, 22:28:07",
    "recorded-content": {
      "transformed": {
        "Outputs": {
          "ParameterName": {
            "Value": {
              "Ref": "MyParameter"
            }
          }
        },
        "Parameters": {
          "QueueList": {
            "Type": "CommaDelimitedList"
          }
        },
        "Resources": {
          "MyParameter": {
            "Properties": {
              "Type": "String",
              "Value": 3
            },
            "Type": "AWS::SSM::Parameter"
          }
        }
      }
    }
  },
  "tests/aws/services/cloudformation/api/test_transformers.py::TestLanguageExtensionsTransform::test_transform_foreach": {
    "recorded-date": "27-06-2025, 21:12:38",
    "recorded-content": {
      "transformed": {
        "AWSTemplateFormatVersion": "2010-09-09",
        "Parameters": {
          "pRepoARNs": {
            "Description": "ARN of SSO instance",
            "Type": "CommaDelimitedList"
          }
        },
        "Resources": {
          "SnsTopic<topic-name-0>": {
            "Properties": {
              "FifoTopic": true,
              "TopicName": "<topic-name-0>.fifo"
            },
            "Type": "AWS::SNS::Topic"
          },
          "SnsTopic<topic-name-1>": {
            "Properties": {
              "FifoTopic": true,
              "TopicName": "<topic-name-1>.fifo"
            },
            "Type": "AWS::SNS::Topic"
          },
          "SnsTopic<topic-name-2>": {
            "Properties": {
              "FifoTopic": true,
              "TopicName": "<topic-name-2>.fifo"
            },
            "Type": "AWS::SNS::Topic"
          }
        }
      }
    }
  },
  "tests/aws/services/cloudformation/api/test_transformers.py::TestLanguageExtensionsTransform::test_transform_foreach_use_case": {
    "recorded-date": "27-06-2025, 23:05:43",
    "recorded-content": {
      "transformed": {
        "Parameters": {
          "AppSyncServerEventNames": {
            "Type": "CommaDelimitedList"
          },
          "AppSyncSubscriptionFilterNames": {
            "Type": "CommaDelimitedList"
          }
        },
        "Resources": {
          "GraphQLApi": {
            "Properties": {
              "AuthenticationType": "API_KEY",
              "Name": "stack-43f234db_api"
            },
            "Type": "AWS::AppSync::GraphQLApi"
          },
          "GraphQLApiSchema": {
            "Properties": {
              "ApiId": {
                "Fn::GetAtt": [
                  "GraphQLApi",
                  "ApiId"
                ]
              },
              "Definition": "\ninput PublishServer<event-name-0>Input {\n  value: String!\n}\n\ninput PublishServer<event-name-1>Input {\n  value: String!\n}\n\ntype Query {\n  _empty: String\n}\n\ntype Subscription {\n  on<event-name-0>: String\n  @aws_subscribe(mutations: [\"publishServer<event-name-0>\"])\n  on<event-name-1>: String\n  @aws_subscribe(mutations: [\"publishServer<event-name-1>\"])\n}\n\ntype Mutation {\n  publishServer<event-name-0>(input: PublishServer<event-name-0>Input!): String\n  publishServer<event-name-1>(input: PublishServer<event-name-1>Input!): String\n}\n\nschema {\n  query: Query\n  mutation: Mutation\n  subscription: Subscription\n}\n"
            },
            "Type": "AWS::AppSync::GraphQLSchema"
          },
          "GraphQLNoneDataSource": {
            "Properties": {
              "ApiId": {
                "Fn::GetAtt": [
                  "GraphQLApi",
                  "ApiId"
                ]
              },
              "Name": "noneds",
              "Type": "NONE"
            },
            "Type": "AWS::AppSync::DataSource"
          },
          "GraphQLResolverPublish<event-name-0>Subscription": {
            "DependsOn": "GraphQLApiSchema",
            "Properties": {
              "ApiId": {
                "Fn::GetAtt": [
                  "GraphQLApi",
                  "ApiId"
                ]
              },
              "Code": "export function request(ctx) {}\n\nexport function response(ctx) {}\n",
              "DataSourceName": {
                "Fn::GetAtt": [
                  "GraphQLNoneDataSource",
                  "Name"
                ]
              },
              "FieldName": "on<event-name-0>",
              "Runtime": {
                "Name": "APPSYNC_JS",
                "RuntimeVersion": "1.0.0"
              },
              "TypeName": "Subscription"
            },
            "Type": "AWS::AppSync::Resolver"
          },
          "GraphQLResolverPublish<event-name-1>Subscription": {
            "DependsOn": "GraphQLApiSchema",
            "Properties": {
              "ApiId": {
                "Fn::GetAtt": [
                  "GraphQLApi",
                  "ApiId"
                ]
              },
              "Code": "export function request(ctx) {}\n\nexport function response(ctx) {}\n",
              "DataSourceName": {
                "Fn::GetAtt": [
                  "GraphQLNoneDataSource",
                  "Name"
                ]
              },
              "FieldName": "on<event-name-1>",
              "Runtime": {
                "Name": "APPSYNC_JS",
                "RuntimeVersion": "1.0.0"
              },
              "TypeName": "Subscription"
            },
            "Type": "AWS::AppSync::Resolver"
          },
          "GraphQLResolverPublishServer<event-name-0>Mutation": {
            "DependsOn": "GraphQLApiSchema",
            "Properties": {
              "ApiId": {
                "Fn::GetAtt": [
                  "GraphQLApi",
                  "ApiId"
                ]
              },
              "DataSourceName": {
                "Fn::GetAtt": [
                  "GraphQLNoneDataSource",
                  "Name"
                ]
              },
              "FieldName": "publishServer<event-name-0>",
              "RequestMappingTemplate": "{\n  \"version\": \"2017-02-28\",\n  \"payload\": $util.toJson($context.arguments)\n}\n",
              "ResponseMappingTemplate": "$util.toJson($context.result)",
              "TypeName": "Mutation"
            },
            "Type": "AWS::AppSync::Resolver"
          },
          "GraphQLResolverPublishServer<event-name-1>Mutation": {
            "DependsOn": "GraphQLApiSchema",
            "Properties": {
              "ApiId": {
                "Fn::GetAtt": [
                  "GraphQLApi",
                  "ApiId"
                ]
              },
              "DataSourceName": {
                "Fn::GetAtt": [
                  "GraphQLNoneDataSource",
                  "Name"
                ]
              },
              "FieldName": "publishServer<event-name-1>",
              "RequestMappingTemplate": "{\n  \"version\": \"2017-02-28\",\n  \"payload\": $util.toJson($context.arguments)\n}\n",
              "ResponseMappingTemplate": "$util.toJson($context.result)",
              "TypeName": "Mutation"
            },
            "Type": "AWS::AppSync::Resolver"
          }
        }
      }
    }
  }
}
