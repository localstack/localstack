{
  "tests/aws/services/cloudformation/test_change_sets.py::test_single_resource_static_update": {
    "recorded-date": "18-03-2025, 16:52:36",
    "recorded-content": {
      "describe-1": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-name:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "MyParameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "parameter-1": {
        "ARN": "arn:<partition>:ssm:<region>:111111111111:parameter/<resource:3>",
        "DataType": "text",
        "LastModifiedDate": "datetime",
        "Name": "<resource:3>",
        "Type": "String",
        "Value": "foo",
        "Version": 1
      },
      "describe-2": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:4>",
        "ChangeSetName": "<change-set-name:2>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "MyParameter",
              "PhysicalResourceId": "<resource:3>",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "parameter-2": {
        "ARN": "arn:<partition>:ssm:<region>:111111111111:parameter/<resource:3>",
        "DataType": "text",
        "LastModifiedDate": "datetime",
        "Name": "<resource:3>",
        "Type": "String",
        "Value": "bar",
        "Version": 2
      }
    }
  },
  "tests/aws/services/cloudformation/test_change_sets.py::TestCaptureUpdateProcess::test_direct_update": {
    "recorded-date": "21-08-2025, 11:39:10",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "TopicName": "topic-1"
                }
              },
              "Details": [],
              "LogicalResourceId": "Foo",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Foo",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "TopicName": "topic-2"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "TopicName": "topic-1"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "topic-2",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "topic-1",
                    "Name": "TopicName",
                    "Path": "/Properties/TopicName",
                    "RequiresRecreation": "Always"
                  }
                }
              ],
              "LogicalResourceId": "Foo",
              "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-1",
              "PolicyAction": "ReplaceAndDelete",
              "Replacement": "True",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "TopicName",
                    "RequiresRecreation": "Always"
                  }
                }
              ],
              "LogicalResourceId": "Foo",
              "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-1",
              "PolicyAction": "ReplaceAndDelete",
              "Replacement": "True",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "delete-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Foo": [
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-1",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-1",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-2",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-2",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-1",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-1",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-2",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-2",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          }
        ],
        "Stack": [
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          }
        ]
      }
    }
  },
  "tests/aws/services/cloudformation/test_change_sets.py::TestCaptureUpdateProcess::test_dynamic_update": {
    "recorded-date": "05-08-2025, 14:17:58",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "TopicName": "topic-1"
                }
              },
              "Details": [],
              "LogicalResourceId": "Foo",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "{{changeSet:KNOWN_AFTER_APPLY}}",
                  "Type": "String"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Foo",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "TopicName": "topic-2"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "TopicName": "topic-1"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "topic-2",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "topic-1",
                    "Name": "TopicName",
                    "Path": "/Properties/TopicName",
                    "RequiresRecreation": "Always"
                  }
                }
              ],
              "LogicalResourceId": "Foo",
              "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-1",
              "PolicyAction": "ReplaceAndDelete",
              "Replacement": "True",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "Value": "{{changeSet:KNOWN_AFTER_APPLY}}",
                  "Type": "String"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "Value": "topic-1",
                  "Type": "String"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Dynamic",
                  "Target": {
                    "AfterValue": "{{changeSet:KNOWN_AFTER_APPLY}}",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "topic-1",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                },
                {
                  "CausingEntity": "Foo.TopicName",
                  "ChangeSource": "ResourceAttribute",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "{{changeSet:KNOWN_AFTER_APPLY}}",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "topic-1",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "CFN-Parameter-gE4nEU6CQEj9",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "TopicName",
                    "RequiresRecreation": "Always"
                  }
                }
              ],
              "LogicalResourceId": "Foo",
              "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-1",
              "PolicyAction": "ReplaceAndDelete",
              "Replacement": "True",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "CausingEntity": "Foo.TopicName",
                  "ChangeSource": "ResourceAttribute",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "CFN-Parameter-gE4nEU6CQEj9",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "delete-describe": {
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Foo": [
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-1",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-1",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-2",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-2",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-1",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-1",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-2",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-2",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          }
        ],
        "Parameter": [
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-gE4nEU6CQEj9",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-gE4nEU6CQEj9",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-gE4nEU6CQEj9",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-gE4nEU6CQEj9",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-gE4nEU6CQEj9",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-gE4nEU6CQEj9",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "Stack": [
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          }
        ]
      }
    }
  },
  "tests/aws/services/cloudformation/test_change_sets.py::TestCaptureUpdateProcess::test_parameter_changes": {
    "recorded-date": "05-08-2025, 14:20:03",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "TopicName": "topic-1"
                }
              },
              "Details": [],
              "LogicalResourceId": "Foo",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "{{changeSet:KNOWN_AFTER_APPLY}}",
                  "Type": "String"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "TopicName",
            "ParameterValue": "topic-1"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Foo",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "TopicName",
            "ParameterValue": "topic-1"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "TopicName",
            "ParameterValue": "topic-1"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "TopicName": "topic-2"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "TopicName": "topic-1"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Dynamic",
                  "Target": {
                    "AfterValue": "topic-2",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "topic-1",
                    "Name": "TopicName",
                    "Path": "/Properties/TopicName",
                    "RequiresRecreation": "Always"
                  }
                },
                {
                  "CausingEntity": "TopicName",
                  "ChangeSource": "ParameterReference",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "topic-2",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "topic-1",
                    "Name": "TopicName",
                    "Path": "/Properties/TopicName",
                    "RequiresRecreation": "Always"
                  }
                }
              ],
              "LogicalResourceId": "Foo",
              "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-1",
              "PolicyAction": "ReplaceAndDelete",
              "Replacement": "True",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "Value": "{{changeSet:KNOWN_AFTER_APPLY}}",
                  "Type": "String"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "Value": "topic-1",
                  "Type": "String"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Dynamic",
                  "Target": {
                    "AfterValue": "{{changeSet:KNOWN_AFTER_APPLY}}",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "topic-1",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                },
                {
                  "CausingEntity": "Foo.TopicName",
                  "ChangeSource": "ResourceAttribute",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "{{changeSet:KNOWN_AFTER_APPLY}}",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "topic-1",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "CFN-Parameter-gTdrbz5CtU3q",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "TopicName",
            "ParameterValue": "topic-2"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "CausingEntity": "TopicName",
                  "ChangeSource": "ParameterReference",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "TopicName",
                    "RequiresRecreation": "Always"
                  }
                },
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Dynamic",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "TopicName",
                    "RequiresRecreation": "Always"
                  }
                }
              ],
              "LogicalResourceId": "Foo",
              "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-1",
              "PolicyAction": "ReplaceAndDelete",
              "Replacement": "True",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "CausingEntity": "Foo.TopicName",
                  "ChangeSource": "ResourceAttribute",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "CFN-Parameter-gTdrbz5CtU3q",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "TopicName",
            "ParameterValue": "topic-2"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "TopicName",
            "ParameterValue": "topic-2"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "delete-describe": {
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "TopicName",
            "ParameterValue": "topic-2"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Foo": [
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-1",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-1",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-2",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-2",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-1",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-1",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-2",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-2",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          }
        ],
        "Parameter": [
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-gTdrbz5CtU3q",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-gTdrbz5CtU3q",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-gTdrbz5CtU3q",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-gTdrbz5CtU3q",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-gTdrbz5CtU3q",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-gTdrbz5CtU3q",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "Stack": [
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          }
        ]
      }
    }
  },
  "tests/aws/services/cloudformation/test_change_sets.py::TestCaptureUpdateProcess::test_mappings_with_static_fields": {
    "recorded-date": "05-08-2025, 14:22:08",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "TopicName": "topic-name-1"
                }
              },
              "Details": [],
              "LogicalResourceId": "Foo",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "{{changeSet:KNOWN_AFTER_APPLY}}",
                  "Type": "String"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Foo",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "TopicName": "topic-name-2"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "TopicName": "topic-name-1"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "topic-name-2",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "topic-name-1",
                    "Name": "TopicName",
                    "Path": "/Properties/TopicName",
                    "RequiresRecreation": "Always"
                  }
                }
              ],
              "LogicalResourceId": "Foo",
              "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-1",
              "PolicyAction": "ReplaceAndDelete",
              "Replacement": "True",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "Value": "{{changeSet:KNOWN_AFTER_APPLY}}",
                  "Type": "String"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "Value": "topic-name-1",
                  "Type": "String"
                }
              },
              "Details": [
                {
                  "CausingEntity": "Foo.TopicName",
                  "ChangeSource": "ResourceAttribute",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "{{changeSet:KNOWN_AFTER_APPLY}}",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "topic-name-1",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                },
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Dynamic",
                  "Target": {
                    "AfterValue": "{{changeSet:KNOWN_AFTER_APPLY}}",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "topic-name-1",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "CFN-Parameter-tSeCu89dWGbq",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "TopicName",
                    "RequiresRecreation": "Always"
                  }
                }
              ],
              "LogicalResourceId": "Foo",
              "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-1",
              "PolicyAction": "ReplaceAndDelete",
              "Replacement": "True",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "CausingEntity": "Foo.TopicName",
                  "ChangeSource": "ResourceAttribute",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "CFN-Parameter-tSeCu89dWGbq",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "delete-describe": {
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Foo": [
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-1",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-1",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-2",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-2",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-1",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-1",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-2",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-2",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          }
        ],
        "Parameter": [
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-tSeCu89dWGbq",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-tSeCu89dWGbq",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-tSeCu89dWGbq",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-tSeCu89dWGbq",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-tSeCu89dWGbq",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-tSeCu89dWGbq",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "Stack": [
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          }
        ]
      }
    }
  },
  "tests/aws/services/cloudformation/test_change_sets.py::TestCaptureUpdateProcess::test_mappings_with_parameter_lookup": {
    "recorded-date": "05-08-2025, 14:24:09",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "TopicName": "topic-name-1"
                }
              },
              "Details": [],
              "LogicalResourceId": "Foo",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "{{changeSet:KNOWN_AFTER_APPLY}}",
                  "Type": "String"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "TopicName",
            "ParameterValue": "key1"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Foo",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "TopicName",
            "ParameterValue": "key1"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "TopicName",
            "ParameterValue": "key1"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "TopicName": "topic-name-2"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "TopicName": "topic-name-1"
                }
              },
              "Details": [
                {
                  "CausingEntity": "TopicName",
                  "ChangeSource": "ParameterReference",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "topic-name-2",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "topic-name-1",
                    "Name": "TopicName",
                    "Path": "/Properties/TopicName",
                    "RequiresRecreation": "Always"
                  }
                },
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Dynamic",
                  "Target": {
                    "AfterValue": "topic-name-2",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "topic-name-1",
                    "Name": "TopicName",
                    "Path": "/Properties/TopicName",
                    "RequiresRecreation": "Always"
                  }
                }
              ],
              "LogicalResourceId": "Foo",
              "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-1",
              "PolicyAction": "ReplaceAndDelete",
              "Replacement": "True",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "Value": "{{changeSet:KNOWN_AFTER_APPLY}}",
                  "Type": "String"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "Value": "topic-name-1",
                  "Type": "String"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Dynamic",
                  "Target": {
                    "AfterValue": "{{changeSet:KNOWN_AFTER_APPLY}}",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "topic-name-1",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                },
                {
                  "CausingEntity": "Foo.TopicName",
                  "ChangeSource": "ResourceAttribute",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "{{changeSet:KNOWN_AFTER_APPLY}}",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "topic-name-1",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "CFN-Parameter-vESR0MLTgKRp",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "TopicName",
            "ParameterValue": "key2"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "CausingEntity": "TopicName",
                  "ChangeSource": "ParameterReference",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "TopicName",
                    "RequiresRecreation": "Always"
                  }
                },
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Dynamic",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "TopicName",
                    "RequiresRecreation": "Always"
                  }
                }
              ],
              "LogicalResourceId": "Foo",
              "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-1",
              "PolicyAction": "ReplaceAndDelete",
              "Replacement": "True",
              "ResourceType": "AWS::SNS::Topic",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "CausingEntity": "Foo.TopicName",
                  "ChangeSource": "ResourceAttribute",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "CFN-Parameter-vESR0MLTgKRp",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "TopicName",
            "ParameterValue": "key2"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "TopicName",
            "ParameterValue": "key2"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "delete-describe": {
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "TopicName",
            "ParameterValue": "key2"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Foo": [
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-1",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-1",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-2",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-2",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-1",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-1",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-2",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Foo",
            "PhysicalResourceId": "arn:<partition>:sns:<region>:111111111111:topic-name-2",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SNS::Topic",
            "Timestamp": "timestamp"
          }
        ],
        "Parameter": [
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-vESR0MLTgKRp",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-vESR0MLTgKRp",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-vESR0MLTgKRp",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-vESR0MLTgKRp",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-vESR0MLTgKRp",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-vESR0MLTgKRp",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "Stack": [
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          }
        ]
      }
    }
  },
  "tests/aws/services/cloudformation/test_change_sets.py::TestCaptureUpdateProcess::test_conditions": {
    "recorded-date": "05-08-2025, 14:24:45",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {}
              },
              "Details": [],
              "LogicalResourceId": "Bucket",
              "ResourceType": "AWS::S3::Bucket",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "EnvironmentType",
            "ParameterValue": "not-prod"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Bucket",
              "ResourceType": "AWS::S3::Bucket",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "EnvironmentType",
            "ParameterValue": "not-prod"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "EnvironmentType",
            "ParameterValue": "not-prod"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "test",
                  "Type": "String"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "EnvironmentType",
            "ParameterValue": "prod"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "EnvironmentType",
            "ParameterValue": "prod"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "EnvironmentType",
            "ParameterValue": "prod"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "delete-describe": {
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "EnvironmentType",
            "ParameterValue": "prod"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Bucket": [
          {
            "LogicalResourceId": "Bucket",
            "PhysicalResourceId": "<stack-name:1>-bucket-i4eammke7jqd",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::S3::Bucket",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Bucket",
            "PhysicalResourceId": "<stack-name:1>-bucket-i4eammke7jqd",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::S3::Bucket",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Bucket",
            "PhysicalResourceId": "<stack-name:1>-bucket-i4eammke7jqd",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::S3::Bucket",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Bucket",
            "PhysicalResourceId": "<stack-name:1>-bucket-i4eammke7jqd",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::S3::Bucket",
            "Timestamp": "timestamp"
          }
        ],
        "Parameter": [
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-PvfZzrj2a2uP",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-PvfZzrj2a2uP",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-PvfZzrj2a2uP",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-PvfZzrj2a2uP",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "Stack": [
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          }
        ]
      }
    }
  },
  "tests/aws/services/cloudformation/test_change_sets.py::TestCaptureUpdateProcess::test_base_dynamic_parameter_scenarios[change_dynamic]": {
    "recorded-date": "05-08-2025, 14:25:08",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "value-1",
                  "Type": "String"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "ParameterValue",
            "ParameterValue": "value-1"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "ParameterValue",
            "ParameterValue": "value-1"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "ParameterValue",
            "ParameterValue": "value-1"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "Value": "value-2",
                  "Type": "String"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "Value": "value-1",
                  "Type": "String"
                }
              },
              "Details": [
                {
                  "CausingEntity": "ParameterValue",
                  "ChangeSource": "ParameterReference",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "value-2",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "value-1",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                },
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Dynamic",
                  "Target": {
                    "AfterValue": "value-2",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "value-1",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "CFN-Parameter-n1KyWPxiTuNB",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "ParameterValue",
            "ParameterValue": "value-2"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "CausingEntity": "ParameterValue",
                  "ChangeSource": "ParameterReference",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Value",
                    "RequiresRecreation": "Never"
                  }
                },
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Dynamic",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "CFN-Parameter-n1KyWPxiTuNB",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "ParameterValue",
            "ParameterValue": "value-2"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "ParameterValue",
            "ParameterValue": "value-2"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "delete-describe": {
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "ParameterValue",
            "ParameterValue": "value-2"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Parameter": [
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-n1KyWPxiTuNB",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-n1KyWPxiTuNB",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-n1KyWPxiTuNB",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-n1KyWPxiTuNB",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-n1KyWPxiTuNB",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "CFN-Parameter-n1KyWPxiTuNB",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "Stack": [
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          }
        ]
      }
    }
  },
  "tests/aws/services/cloudformation/test_change_sets.py::TestCaptureUpdateProcess::test_base_dynamic_parameter_scenarios[change_unrelated_property]": {
    "recorded-date": "05-08-2025, 14:25:08",
    "recorded-content": {}
  },
  "tests/aws/services/cloudformation/test_change_sets.py::TestCaptureUpdateProcess::test_base_dynamic_parameter_scenarios[change_unrelated_property_not_create_only]": {
    "recorded-date": "05-08-2025, 14:25:08",
    "recorded-content": {}
  },
  "tests/aws/services/cloudformation/test_change_sets.py::TestCaptureUpdateProcess::test_base_dynamic_parameter_scenarios[change_parameter_for_condition_create_resource]": {
    "recorded-date": "05-08-2025, 14:25:30",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "first",
                  "Type": "String"
                }
              },
              "Details": [],
              "LogicalResourceId": "SSMParameter1",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "ParameterValue",
            "ParameterValue": "value-1"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "SSMParameter1",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "ParameterValue",
            "ParameterValue": "value-1"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "ParameterValue",
            "ParameterValue": "value-1"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "first",
                  "Type": "String"
                }
              },
              "Details": [],
              "LogicalResourceId": "SSMParameter2",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "ParameterValue",
            "ParameterValue": "value-2"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "SSMParameter2",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "ParameterValue",
            "ParameterValue": "value-2"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "ParameterValue",
            "ParameterValue": "value-2"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "delete-describe": {
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "ParameterValue",
            "ParameterValue": "value-2"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "SSMParameter1": [
          {
            "LogicalResourceId": "SSMParameter1",
            "PhysicalResourceId": "CFN-SSMParameter1-53MomZeWdc3v",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "SSMParameter1",
            "PhysicalResourceId": "CFN-SSMParameter1-53MomZeWdc3v",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "SSMParameter1",
            "PhysicalResourceId": "CFN-SSMParameter1-53MomZeWdc3v",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "SSMParameter1",
            "PhysicalResourceId": "CFN-SSMParameter1-53MomZeWdc3v",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "SSMParameter2": [
          {
            "LogicalResourceId": "SSMParameter2",
            "PhysicalResourceId": "CFN-SSMParameter2-9IuT0RFdItlN",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "SSMParameter2",
            "PhysicalResourceId": "CFN-SSMParameter2-9IuT0RFdItlN",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "SSMParameter2",
            "PhysicalResourceId": "CFN-SSMParameter2-9IuT0RFdItlN",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "SSMParameter2",
            "PhysicalResourceId": "CFN-SSMParameter2-9IuT0RFdItlN",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "Stack": [
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          }
        ]
      }
    }
  },
  "tests/aws/services/cloudformation/test_change_sets.py::TestCaptureUpdateProcess::test_execute_with_ref": {
    "recorded-date": "05-08-2025, 14:26:05",
    "recorded-content": {
      "before-value": "<name-1>",
      "after-value": "<name-2>"
    }
  },
  "tests/aws/services/cloudformation/test_change_sets.py::TestCaptureUpdateProcess::test_base_mapping_scenarios[update_string_referencing_resource]": {
    "recorded-date": "05-08-2025, 14:26:31",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "value-1",
                  "Type": "String"
                }
              },
              "Details": [],
              "LogicalResourceId": "MySSMParameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "MySSMParameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "Value": "value-2",
                  "Type": "String"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "Value": "value-1",
                  "Type": "String"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "value-2",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "value-1",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "MySSMParameter",
              "PhysicalResourceId": "CFN-MySSMParameter-EcezJ6ETXORO",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "MySSMParameter",
              "PhysicalResourceId": "CFN-MySSMParameter-EcezJ6ETXORO",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "delete-describe": {
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "MySSMParameter": [
          {
            "LogicalResourceId": "MySSMParameter",
            "PhysicalResourceId": "CFN-MySSMParameter-EcezJ6ETXORO",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "MySSMParameter",
            "PhysicalResourceId": "CFN-MySSMParameter-EcezJ6ETXORO",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "MySSMParameter",
            "PhysicalResourceId": "CFN-MySSMParameter-EcezJ6ETXORO",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "MySSMParameter",
            "PhysicalResourceId": "CFN-MySSMParameter-EcezJ6ETXORO",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "MySSMParameter",
            "PhysicalResourceId": "CFN-MySSMParameter-EcezJ6ETXORO",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "MySSMParameter",
            "PhysicalResourceId": "CFN-MySSMParameter-EcezJ6ETXORO",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "Stack": [
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          }
        ]
      }
    }
  },
  "tests/aws/services/cloudformation/test_change_sets.py::TestCaptureUpdateProcess::test_single_resource_static_update": {
    "recorded-date": "05-08-2025, 14:26:48",
    "recorded-content": {
      "describe-1": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-name:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "MyParameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "parameter-1": {
        "ARN": "arn:<partition>:ssm:<region>:111111111111:parameter/<resource:3>",
        "DataType": "text",
        "LastModifiedDate": "datetime",
        "Name": "<resource:3>",
        "Type": "String",
        "Value": "foo",
        "Version": 1
      },
      "describe-2": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:4>",
        "ChangeSetName": "<change-set-name:2>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "MyParameter",
              "PhysicalResourceId": "<resource:3>",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "parameter-2": {
        "ARN": "arn:<partition>:ssm:<region>:111111111111:parameter/<resource:3>",
        "DataType": "text",
        "LastModifiedDate": "datetime",
        "Name": "<resource:3>",
        "Type": "String",
        "Value": "bar",
        "Version": 2
      }
    }
  },
  "tests/aws/services/cloudformation/v2/test_change_sets.py::TestCaptureUpdateProcess::test_unrelated_changes_update_propagation": {
    "recorded-date": "31-07-2025, 14:01:52",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "topic-name",
                  "Type": "String",
                  "Description": "original"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter1",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "{{changeSet:KNOWN_AFTER_APPLY}}",
                  "Type": "String"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter2",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter1",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter2",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "Value": "topic-name",
                  "Type": "String",
                  "Description": "changed"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "Value": "topic-name",
                  "Type": "String",
                  "Description": "original"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "changed",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "original",
                    "Name": "Description",
                    "Path": "/Properties/Description",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter1",
              "PhysicalResourceId": "CFN-Parameter1-ZUgkraElDaDN",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Description",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter1",
              "PhysicalResourceId": "CFN-Parameter1-ZUgkraElDaDN",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "CausingEntity": "Parameter1.Value",
                  "ChangeSource": "ResourceAttribute",
                  "Evaluation": "Dynamic",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter2",
              "PhysicalResourceId": "CFN-Parameter2-IUxUU6IW7X39",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "delete-describe": {
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Parameter1": [
          {
            "LogicalResourceId": "Parameter1",
            "PhysicalResourceId": "",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter1",
            "PhysicalResourceId": "CFN-Parameter1-ZUgkraElDaDN",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter1",
            "PhysicalResourceId": "CFN-Parameter1-ZUgkraElDaDN",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter1",
            "PhysicalResourceId": "CFN-Parameter1-ZUgkraElDaDN",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "Parameter2": [
          {
            "LogicalResourceId": "Parameter2",
            "PhysicalResourceId": "",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter2",
            "PhysicalResourceId": "CFN-Parameter2-IUxUU6IW7X39",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "Stack": [
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          }
        ]
      }
    }
  },
  "tests/aws/services/cloudformation/v2/test_change_sets.py::TestCaptureUpdateProcess::test_unrelated_changes_requires_replacement": {
    "recorded-date": "31-07-2025, 14:10:27",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "value",
                  "Type": "String",
                  "Name": "parameter-1-name"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter1",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "{{changeSet:KNOWN_AFTER_APPLY}}",
                  "Type": "String"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter2",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter1",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter2",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "Value": "value",
                  "Type": "String",
                  "Name": "parameter-2-name"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "Value": "value",
                  "Type": "String",
                  "Name": "parameter-1-name"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "parameter-2-name",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "parameter-1-name",
                    "Name": "Name",
                    "Path": "/Properties/Name",
                    "RequiresRecreation": "Always"
                  }
                }
              ],
              "LogicalResourceId": "Parameter1",
              "PhysicalResourceId": "parameter-1-name",
              "PolicyAction": "ReplaceAndDelete",
              "Replacement": "True",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "Value": "{{changeSet:KNOWN_AFTER_APPLY}}",
                  "Type": "String"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "Value": "value",
                  "Type": "String"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Dynamic",
                  "Target": {
                    "AfterValue": "{{changeSet:KNOWN_AFTER_APPLY}}",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "value",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                },
                {
                  "CausingEntity": "Parameter1.Value",
                  "ChangeSource": "ResourceAttribute",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "{{changeSet:KNOWN_AFTER_APPLY}}",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "value",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter2",
              "PhysicalResourceId": "CFN-Parameter2-DAxvYPlPS8Me",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Name",
                    "RequiresRecreation": "Always"
                  }
                }
              ],
              "LogicalResourceId": "Parameter1",
              "PhysicalResourceId": "parameter-1-name",
              "PolicyAction": "ReplaceAndDelete",
              "Replacement": "True",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "CausingEntity": "Parameter1.Value",
                  "ChangeSource": "ResourceAttribute",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter2",
              "PhysicalResourceId": "CFN-Parameter2-DAxvYPlPS8Me",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "delete-describe": {
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Parameter1": [
          {
            "LogicalResourceId": "Parameter1",
            "PhysicalResourceId": "",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter1",
            "PhysicalResourceId": "parameter-1-name",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter1",
            "PhysicalResourceId": "parameter-1-name",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter1",
            "PhysicalResourceId": "parameter-2-name",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "Parameter2": [
          {
            "LogicalResourceId": "Parameter2",
            "PhysicalResourceId": "",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter2",
            "PhysicalResourceId": "CFN-Parameter2-DAxvYPlPS8Me",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "Stack": [
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          }
        ]
      }
    }
  },
  "tests/aws/services/cloudformation/test_change_sets.py::test_dynamic_ssm_parameter_lookup": {
    "recorded-date": "05-08-2025, 22:24:46",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "<parameter-value-1>",
                  "Type": "String"
                }
              },
              "Details": [],
              "LogicalResourceId": "DerivedParameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "InputValue",
            "ParameterValue": "<parameter-name>",
            "ResolvedValue": "<parameter-value-1>"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "DerivedParameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "InputValue",
            "ParameterValue": "<parameter-name>",
            "ResolvedValue": "<parameter-value-1>"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Outputs": [
          {
            "OutputKey": "DerivedParameterName",
            "OutputValue": "<output-value:1>"
          }
        ],
        "Parameters": [
          {
            "ParameterKey": "InputValue",
            "ParameterValue": "<parameter-name>",
            "ResolvedValue": "<parameter-value-1>"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "Value": "<parameter-value-2>",
                  "Type": "String"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "Value": "<parameter-value-1>",
                  "Type": "String"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "<parameter-value-2>",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "<parameter-value-1>",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "DerivedParameter",
              "PhysicalResourceId": "<output-value:1>",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "InputValue",
            "ParameterValue": "<parameter-name>",
            "ResolvedValue": "<parameter-value-2>"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "DerivedParameter",
              "PhysicalResourceId": "<output-value:1>",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "InputValue",
            "ParameterValue": "<parameter-name>",
            "ResolvedValue": "<parameter-value-2>"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Outputs": [
          {
            "OutputKey": "DerivedParameterName",
            "OutputValue": "<output-value:1>"
          }
        ],
        "Parameters": [
          {
            "ParameterKey": "InputValue",
            "ParameterValue": "<parameter-name>",
            "ResolvedValue": "<parameter-value-2>"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "delete-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Outputs": [
          {
            "OutputKey": "DerivedParameterName",
            "OutputValue": "<output-value:1>"
          }
        ],
        "Parameters": [
          {
            "ParameterKey": "InputValue",
            "ParameterValue": "<parameter-name>",
            "ResolvedValue": "<parameter-value-2>"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "DerivedParameter": [
          {
            "LogicalResourceId": "DerivedParameter",
            "PhysicalResourceId": "<output-value:1>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "DerivedParameter",
            "PhysicalResourceId": "<output-value:1>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "DerivedParameter",
            "PhysicalResourceId": "<output-value:1>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "DerivedParameter",
            "PhysicalResourceId": "<output-value:1>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "DerivedParameter",
            "PhysicalResourceId": "<output-value:1>",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "DerivedParameter",
            "PhysicalResourceId": "<output-value:1>",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "Stack": [
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          }
        ]
      }
    }
  },
  "tests/aws/services/cloudformation/test_change_sets.py::test_dynamic_ssm_parameter_lookup_no_change": {
    "recorded-date": "05-08-2025, 22:26:18",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "<parameter-value>",
                  "Type": "String"
                }
              },
              "Details": [],
              "LogicalResourceId": "DerivedParameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "InputValue",
            "ParameterValue": "<parameter-name>",
            "ResolvedValue": "<parameter-value>"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "DerivedParameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "InputValue",
            "ParameterValue": "<parameter-name>",
            "ResolvedValue": "<parameter-value>"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Outputs": [
          {
            "OutputKey": "DerivedParameterName",
            "OutputValue": "<output-value:1>"
          }
        ],
        "Parameters": [
          {
            "ParameterKey": "InputValue",
            "ParameterValue": "<parameter-name>",
            "ResolvedValue": "<parameter-value>"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "new parameter",
                  "Type": "String"
                }
              },
              "Details": [],
              "LogicalResourceId": "AnotherParameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "InputValue",
            "ParameterValue": "<parameter-name>",
            "ResolvedValue": "<parameter-value>"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "AnotherParameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "InputValue",
            "ParameterValue": "<parameter-name>",
            "ResolvedValue": "<parameter-value>"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Outputs": [
          {
            "OutputKey": "DerivedParameterName",
            "OutputValue": "<output-value:1>"
          }
        ],
        "Parameters": [
          {
            "ParameterKey": "InputValue",
            "ParameterValue": "<parameter-name>",
            "ResolvedValue": "<parameter-value>"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "delete-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Outputs": [
          {
            "OutputKey": "DerivedParameterName",
            "OutputValue": "<output-value:1>"
          }
        ],
        "Parameters": [
          {
            "ParameterKey": "InputValue",
            "ParameterValue": "<parameter-name>",
            "ResolvedValue": "<parameter-value>"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "AnotherParameter": [
          {
            "LogicalResourceId": "AnotherParameter",
            "PhysicalResourceId": "CFN-AnotherParameter-V5IPg431Z6Rc",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "AnotherParameter",
            "PhysicalResourceId": "CFN-AnotherParameter-V5IPg431Z6Rc",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "AnotherParameter",
            "PhysicalResourceId": "CFN-AnotherParameter-V5IPg431Z6Rc",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "AnotherParameter",
            "PhysicalResourceId": "CFN-AnotherParameter-V5IPg431Z6Rc",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "DerivedParameter": [
          {
            "LogicalResourceId": "DerivedParameter",
            "PhysicalResourceId": "<output-value:1>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "DerivedParameter",
            "PhysicalResourceId": "<output-value:1>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "DerivedParameter",
            "PhysicalResourceId": "<output-value:1>",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "DerivedParameter",
            "PhysicalResourceId": "<output-value:1>",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "Stack": [
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          }
        ]
      }
    }
  },
  "tests/aws/services/cloudformation/test_change_sets.py::test_describe_failed_change_set": {
    "recorded-date": "09-09-2025, 16:22:00",
    "recorded-content": {
      "describe": {
        "Capabilities": [],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-name:1>",
        "Changes": [],
        "CreationTime": "datetime",
        "ExecutionStatus": "UNAVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "FAILED",
        "StatusReason": "Transform AWS::Include failed with: S3 bucket [doesnotexist] does not exist.",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  }
}
