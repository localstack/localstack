{
  "tests/aws/services/cloudformation/v2/test_change_set_fn_transform.py::TestChangeSetFnTransform::test_embedded_fn_transform_include[yml]": {
    "recorded-date": "03-06-2025, 21:29:28",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "foo",
                  "Type": "String",
                  "Name": "topic-name-1"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "foo",
                  "Type": "String",
                  "Name": "name-2-bd1e2d36"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter2",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter2",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Parameter": [
          {
            "EventId": "Parameter-CREATE_COMPLETE-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "topic-name-1",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "topic-name-1"
            },
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "topic-name-1",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "topic-name-1"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "Resource creation Initiated",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "topic-name-1"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ],
        "Parameter2": [
          {
            "EventId": "Parameter2-CREATE_COMPLETE-date",
            "LogicalResourceId": "Parameter2",
            "PhysicalResourceId": "name-2-bd1e2d36",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "name-2-bd1e2d36"
            },
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter2-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter2",
            "PhysicalResourceId": "name-2-bd1e2d36",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "name-2-bd1e2d36"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "Resource creation Initiated",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter2-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter2",
            "PhysicalResourceId": "",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "name-2-bd1e2d36"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ],
        "<stack-name:1>": [
          {
            "EventId": "<uuid:1>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:2>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE_CLEANUP_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:3>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:4>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:5>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:6>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ]
      },
      "delete-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      }
    }
  },
  "tests/aws/services/cloudformation/v2/test_change_set_fn_transform.py::TestChangeSetFnTransform::test_embedded_fn_transform_include[json]": {
    "recorded-date": "03-06-2025, 21:29:58",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "foo",
                  "Type": "String",
                  "Name": "topic-name-1"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "Value": "foo",
                  "Type": "String",
                  "Name": "name-2-3e00e97a"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "Value": "foo",
                  "Type": "String",
                  "Name": "topic-name-1"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "name-2-3e00e97a",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "topic-name-1",
                    "Name": "Name",
                    "Path": "/Properties/Name",
                    "RequiresRecreation": "Always"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "topic-name-1",
              "PolicyAction": "ReplaceAndDelete",
              "Replacement": "True",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Name",
                    "RequiresRecreation": "Always"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "topic-name-1",
              "PolicyAction": "ReplaceAndDelete",
              "Replacement": "True",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Parameter": [
          {
            "EventId": "Parameter-5cbf35a2-4a92-4554-a111-1f96269d3814",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "topic-name-1",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-06c1c753-8966-4dc1-9a39-cfbe492abedb",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "topic-name-1",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-UPDATE_COMPLETE-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "name-2-3e00e97a",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "name-2-3e00e97a"
            },
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-UPDATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "name-2-3e00e97a",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "name-2-3e00e97a"
            },
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceStatusReason": "Resource creation Initiated",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-UPDATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "topic-name-1",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "name-2-3e00e97a"
            },
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceStatusReason": "Requested update requires the creation of a new physical resource; hence creating one.",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_COMPLETE-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "topic-name-1",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "topic-name-1"
            },
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "topic-name-1",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "topic-name-1"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "Resource creation Initiated",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "topic-name-1"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ],
        "<stack-name:1>": [
          {
            "EventId": "<uuid:1>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:2>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE_CLEANUP_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:3>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:4>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:5>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:6>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ]
      },
      "delete-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      }
    }
  },
  "tests/aws/services/cloudformation/v2/test_change_set_fn_transform.py::TestChangeSetFnTransform::test_global_fn_transform_include[json]": {
    "recorded-date": "03-06-2025, 21:30:48",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "foo",
                  "Type": "String",
                  "Name": "topic-name-1"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Outputs": [
          {
            "OutputKey": "ParameterRef",
            "OutputValue": "topic-name-1"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Parameter": [
          {
            "EventId": "Parameter-CREATE_COMPLETE-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "topic-name-1",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "topic-name-1"
            },
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "topic-name-1",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "topic-name-1"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "Resource creation Initiated",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "topic-name-1"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ],
        "<stack-name:1>": [
          {
            "EventId": "<uuid:1>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:2>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE_CLEANUP_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:3>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:4>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:5>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:6>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ]
      },
      "delete-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Outputs": [
          {
            "OutputKey": "ParameterRef",
            "OutputValue": "topic-name-1"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      }
    }
  },
  "tests/aws/services/cloudformation/v2/test_change_set_fn_transform.py::TestChangeSetFnTransform::test_global_fn_transform_include[yml]": {
    "recorded-date": "03-06-2025, 21:30:23",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "foo",
                  "Type": "String",
                  "Name": "topic-name-1"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Outputs": [
          {
            "OutputKey": "ParameterRef",
            "OutputValue": "topic-name-1"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Parameter": [
          {
            "EventId": "Parameter-CREATE_COMPLETE-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "topic-name-1",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "topic-name-1"
            },
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "topic-name-1",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "topic-name-1"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "Resource creation Initiated",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "topic-name-1"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ],
        "<stack-name:1>": [
          {
            "EventId": "<uuid:1>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:2>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE_CLEANUP_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:3>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:4>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:5>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:6>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ]
      },
      "delete-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Outputs": [
          {
            "OutputKey": "ParameterRef",
            "OutputValue": "topic-name-1"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      }
    }
  },
  "tests/aws/services/cloudformation/v2/test_change_set_fn_transform.py::TestChangeSetFnTransform::test_serverless_fn_transform": {
    "recorded-date": "03-06-2025, 21:32:10",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "{Substitution}",
                  "Type": "String",
                  "Name": "topic-name-1"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Role": "{{changeSet:KNOWN_AFTER_APPLY}}",
                  "Handler": "index.handler",
                  "Runtime": "nodejs18.x",
                  "Code": {
                    "ZipFile": "exports.handler = async (event) => {\n  return {\n    statusCode: 200,\n    body: JSON.stringify({ message: 'Hello from SAM inline function!' })\n  };\n};"
                  },
                  "Tags": [
                    {
                      "Value": "SAM",
                      "Key": "lambda:createdBy"
                    }
                  ]
                }
              },
              "Details": [],
              "LogicalResourceId": "HelloWorldFunction",
              "ResourceType": "AWS::Lambda::Function",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "FunctionName": "{{changeSet:KNOWN_AFTER_APPLY}}",
                  "Action": "lambda:InvokeFunction",
                  "SourceArn": "{{changeSet:KNOWN_AFTER_APPLY}}",
                  "Principal": "apigateway.amazonaws.com"
                }
              },
              "Details": [],
              "LogicalResourceId": "HelloWorldFunctionApiEventPermissionProd",
              "ResourceType": "AWS::Lambda::Permission",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "ManagedPolicyArns": [
                    "arn:<partition>:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
                  ],
                  "AssumeRolePolicyDocument": {
                    "Version": "2012-10-17",
                    "Statement": [
                      {
                        "Action": [
                          "sts:AssumeRole"
                        ],
                        "Effect": "Allow",
                        "Principal": {
                          "Service": [
                            "lambda.amazonaws.com"
                          ]
                        }
                      }
                    ]
                  },
                  "Tags": [
                    {
                      "Value": "SAM",
                      "Key": "lambda:createdBy"
                    }
                  ]
                }
              },
              "Details": [],
              "LogicalResourceId": "HelloWorldFunctionRole",
              "ResourceType": "AWS::IAM::Role",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Remove",
              "BeforeContext": {
                "Properties": {
                  "Value": "{Substitution}",
                  "Type": "String",
                  "Name": "topic-name-1"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "topic-name-1",
              "PolicyAction": "Delete",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Body": {
                    "paths": {
                      "/<resource:5>": {
                        "get": {
                          "responses": {},
                          "x-amazon-apigateway-integration": {
                            "httpMethod": "POST",
                            "type": "aws_proxy",
                            "uri": "arn:<partition>:apigateway:<region>:lambda:path/2015-03-31/functions/{{changeSet:KNOWN_AFTER_APPLY}}/invocations"
                          }
                        }
                      }
                    },
                    "swagger": "2.0",
                    "info": {
                      "title": "<stack-name:1>",
                      "version": "1.0"
                    }
                  }
                }
              },
              "Details": [],
              "LogicalResourceId": "ServerlessRestApi",
              "ResourceType": "AWS::ApiGateway::RestApi",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "RestApiId": "{{changeSet:KNOWN_AFTER_APPLY}}",
                  "Description": "RestApi deployment id: 47fc2d5f9d21ad56f83937abe2779d0e26d7095e",
                  "StageName": "Stage"
                }
              },
              "Details": [],
              "LogicalResourceId": "ServerlessRestApiDeployment47fc2d5f9d",
              "ResourceType": "AWS::ApiGateway::Deployment",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "RestApiId": "{{changeSet:KNOWN_AFTER_APPLY}}",
                  "DeploymentId": "{{changeSet:KNOWN_AFTER_APPLY}}",
                  "StageName": "Prod"
                }
              },
              "Details": [],
              "LogicalResourceId": "ServerlessRestApiProdStage",
              "ResourceType": "AWS::ApiGateway::Stage",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "HelloWorldFunction",
              "ResourceType": "AWS::Lambda::Function",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "HelloWorldFunctionApiEventPermissionProd",
              "ResourceType": "AWS::Lambda::Permission",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "HelloWorldFunctionRole",
              "ResourceType": "AWS::IAM::Role",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Remove",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "topic-name-1",
              "PolicyAction": "Delete",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "ServerlessRestApi",
              "ResourceType": "AWS::ApiGateway::RestApi",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "ServerlessRestApiDeployment47fc2d5f9d",
              "ResourceType": "AWS::ApiGateway::Deployment",
              "Scope": []
            },
            "Type": "Resource"
          },
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "ServerlessRestApiProdStage",
              "ResourceType": "AWS::ApiGateway::Stage",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "HelloWorldFunction": [
          {
            "EventId": "HelloWorldFunction-CREATE_COMPLETE-date",
            "LogicalResourceId": "HelloWorldFunction",
            "PhysicalResourceId": "<stack-name:1>-HelloWorldFunction-EdXB90Au1l86",
            "ResourceProperties": {
              "Role": "arn:<partition>:iam::111111111111:role/<resource:4>",
              "Runtime": "nodejs18.x",
              "Handler": "index.handler",
              "Code": {
                "ZipFile": "exports.handler = async (event) => {\n  return {\n    statusCode: 200,\n    body: JSON.stringify({ message: 'Hello from SAM inline function!' })\n  };\n};"
              },
              "Tags": [
                {
                  "Value": "SAM",
                  "Key": "lambda:createdBy"
                }
              ]
            },
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::Lambda::Function",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "HelloWorldFunction-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "HelloWorldFunction",
            "PhysicalResourceId": "<stack-name:1>-HelloWorldFunction-EdXB90Au1l86",
            "ResourceProperties": {
              "Role": "arn:<partition>:iam::111111111111:role/<resource:4>",
              "Runtime": "nodejs18.x",
              "Handler": "index.handler",
              "Code": {
                "ZipFile": "exports.handler = async (event) => {\n  return {\n    statusCode: 200,\n    body: JSON.stringify({ message: 'Hello from SAM inline function!' })\n  };\n};"
              },
              "Tags": [
                {
                  "Value": "SAM",
                  "Key": "lambda:createdBy"
                }
              ]
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "Resource creation Initiated",
            "ResourceType": "AWS::Lambda::Function",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "HelloWorldFunction-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "HelloWorldFunction",
            "PhysicalResourceId": "",
            "ResourceProperties": {
              "Role": "arn:<partition>:iam::111111111111:role/<resource:4>",
              "Runtime": "nodejs18.x",
              "Handler": "index.handler",
              "Code": {
                "ZipFile": "exports.handler = async (event) => {\n  return {\n    statusCode: 200,\n    body: JSON.stringify({ message: 'Hello from SAM inline function!' })\n  };\n};"
              },
              "Tags": [
                {
                  "Value": "SAM",
                  "Key": "lambda:createdBy"
                }
              ]
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::Lambda::Function",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ],
        "HelloWorldFunctionApiEventPermissionProd": [
          {
            "EventId": "HelloWorldFunctionApiEventPermissionProd-CREATE_COMPLETE-date",
            "LogicalResourceId": "HelloWorldFunctionApiEventPermissionProd",
            "PhysicalResourceId": "<stack-name:1>-HelloWorldFunctionApiEventPermissionProd-xfMFMMYChbqn",
            "ResourceProperties": {
              "FunctionName": "<stack-name:1>-HelloWorldFunction-EdXB90Au1l86",
              "Action": "lambda:InvokeFunction",
              "SourceArn": "arn:<partition>:execute-api:<region>:111111111111:317w2e8pc3/*/GET/<resource:5>",
              "Principal": "apigateway.amazonaws.com"
            },
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::Lambda::Permission",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "HelloWorldFunctionApiEventPermissionProd-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "HelloWorldFunctionApiEventPermissionProd",
            "PhysicalResourceId": "<stack-name:1>-HelloWorldFunctionApiEventPermissionProd-xfMFMMYChbqn",
            "ResourceProperties": {
              "FunctionName": "<stack-name:1>-HelloWorldFunction-EdXB90Au1l86",
              "Action": "lambda:InvokeFunction",
              "SourceArn": "arn:<partition>:execute-api:<region>:111111111111:317w2e8pc3/*/GET/<resource:5>",
              "Principal": "apigateway.amazonaws.com"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "Resource creation Initiated",
            "ResourceType": "AWS::Lambda::Permission",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "HelloWorldFunctionApiEventPermissionProd-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "HelloWorldFunctionApiEventPermissionProd",
            "PhysicalResourceId": "",
            "ResourceProperties": {
              "FunctionName": "<stack-name:1>-HelloWorldFunction-EdXB90Au1l86",
              "Action": "lambda:InvokeFunction",
              "SourceArn": "arn:<partition>:execute-api:<region>:111111111111:317w2e8pc3/*/GET/<resource:5>",
              "Principal": "apigateway.amazonaws.com"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::Lambda::Permission",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ],
        "HelloWorldFunctionRole": [
          {
            "EventId": "HelloWorldFunctionRole-CREATE_COMPLETE-date",
            "LogicalResourceId": "HelloWorldFunctionRole",
            "PhysicalResourceId": "<resource:4>",
            "ResourceProperties": {
              "ManagedPolicyArns": [
                "arn:<partition>:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ],
              "AssumeRolePolicyDocument": {
                "Version": "2012-10-17",
                "Statement": [
                  {
                    "Action": [
                      "sts:AssumeRole"
                    ],
                    "Effect": "Allow",
                    "Principal": {
                      "Service": [
                        "lambda.amazonaws.com"
                      ]
                    }
                  }
                ]
              },
              "Tags": [
                {
                  "Value": "SAM",
                  "Key": "lambda:createdBy"
                }
              ]
            },
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::IAM::Role",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "HelloWorldFunctionRole-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "HelloWorldFunctionRole",
            "PhysicalResourceId": "<resource:4>",
            "ResourceProperties": {
              "ManagedPolicyArns": [
                "arn:<partition>:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ],
              "AssumeRolePolicyDocument": {
                "Version": "2012-10-17",
                "Statement": [
                  {
                    "Action": [
                      "sts:AssumeRole"
                    ],
                    "Effect": "Allow",
                    "Principal": {
                      "Service": [
                        "lambda.amazonaws.com"
                      ]
                    }
                  }
                ]
              },
              "Tags": [
                {
                  "Value": "SAM",
                  "Key": "lambda:createdBy"
                }
              ]
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "Resource creation Initiated",
            "ResourceType": "AWS::IAM::Role",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "HelloWorldFunctionRole-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "HelloWorldFunctionRole",
            "PhysicalResourceId": "",
            "ResourceProperties": {
              "ManagedPolicyArns": [
                "arn:<partition>:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
              ],
              "AssumeRolePolicyDocument": {
                "Version": "2012-10-17",
                "Statement": [
                  {
                    "Action": [
                      "sts:AssumeRole"
                    ],
                    "Effect": "Allow",
                    "Principal": {
                      "Service": [
                        "lambda.amazonaws.com"
                      ]
                    }
                  }
                ]
              },
              "Tags": [
                {
                  "Value": "SAM",
                  "Key": "lambda:createdBy"
                }
              ]
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::IAM::Role",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ],
        "Parameter": [
          {
            "EventId": "Parameter-af425eba-d8e2-4ad9-9ebc-153095f8161d",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "topic-name-1",
            "ResourceStatus": "DELETE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-adcb9c2b-0276-4487-9df6-5f12bf586323",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "topic-name-1",
            "ResourceStatus": "DELETE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_COMPLETE-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "topic-name-1",
            "ResourceProperties": {
              "Type": "String",
              "Value": "{Substitution}",
              "Name": "topic-name-1"
            },
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "topic-name-1",
            "ResourceProperties": {
              "Type": "String",
              "Value": "{Substitution}",
              "Name": "topic-name-1"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "Resource creation Initiated",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "",
            "ResourceProperties": {
              "Type": "String",
              "Value": "{Substitution}",
              "Name": "topic-name-1"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ],
        "ServerlessRestApi": [
          {
            "EventId": "ServerlessRestApi-CREATE_COMPLETE-date",
            "LogicalResourceId": "ServerlessRestApi",
            "PhysicalResourceId": "317w2e8pc3",
            "ResourceProperties": {
              "Body": {
                "paths": {
                  "/<resource:5>": {
                    "get": {
                      "responses": {},
                      "x-amazon-apigateway-integration": {
                        "httpMethod": "POST",
                        "type": "aws_proxy",
                        "uri": "arn:<partition>:apigateway:<region>:lambda:path/2015-03-31/functions/arn:<partition>:lambda:<region>:111111111111:function:<stack-name:1>-HelloWorldFunction-EdXB90Au1l86/invocations"
                      }
                    }
                  }
                },
                "swagger": "2.0",
                "info": {
                  "title": "<stack-name:1>",
                  "version": "1.0"
                }
              }
            },
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::ApiGateway::RestApi",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "ServerlessRestApi-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "ServerlessRestApi",
            "PhysicalResourceId": "317w2e8pc3",
            "ResourceProperties": {
              "Body": {
                "paths": {
                  "/<resource:5>": {
                    "get": {
                      "responses": {},
                      "x-amazon-apigateway-integration": {
                        "httpMethod": "POST",
                        "type": "aws_proxy",
                        "uri": "arn:<partition>:apigateway:<region>:lambda:path/2015-03-31/functions/arn:<partition>:lambda:<region>:111111111111:function:<stack-name:1>-HelloWorldFunction-EdXB90Au1l86/invocations"
                      }
                    }
                  }
                },
                "swagger": "2.0",
                "info": {
                  "title": "<stack-name:1>",
                  "version": "1.0"
                }
              }
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "Resource creation Initiated",
            "ResourceType": "AWS::ApiGateway::RestApi",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "ServerlessRestApi-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "ServerlessRestApi",
            "PhysicalResourceId": "",
            "ResourceProperties": {
              "Body": {
                "paths": {
                  "/<resource:5>": {
                    "get": {
                      "responses": {},
                      "x-amazon-apigateway-integration": {
                        "httpMethod": "POST",
                        "type": "aws_proxy",
                        "uri": "arn:<partition>:apigateway:<region>:lambda:path/2015-03-31/functions/arn:<partition>:lambda:<region>:111111111111:function:<stack-name:1>-HelloWorldFunction-EdXB90Au1l86/invocations"
                      }
                    }
                  }
                },
                "swagger": "2.0",
                "info": {
                  "title": "<stack-name:1>",
                  "version": "1.0"
                }
              }
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::ApiGateway::RestApi",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ],
        "ServerlessRestApiDeployment47fc2d5f9d": [
          {
            "EventId": "ServerlessRestApiDeployment47fc2d5f9d-CREATE_COMPLETE-date",
            "LogicalResourceId": "ServerlessRestApiDeployment47fc2d5f9d",
            "PhysicalResourceId": "5oj1e3",
            "ResourceProperties": {
              "Description": "RestApi deployment id: 47fc2d5f9d21ad56f83937abe2779d0e26d7095e",
              "StageName": "Stage",
              "RestApiId": "317w2e8pc3"
            },
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::ApiGateway::Deployment",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "ServerlessRestApiDeployment47fc2d5f9d-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "ServerlessRestApiDeployment47fc2d5f9d",
            "PhysicalResourceId": "5oj1e3",
            "ResourceProperties": {
              "Description": "RestApi deployment id: 47fc2d5f9d21ad56f83937abe2779d0e26d7095e",
              "StageName": "Stage",
              "RestApiId": "317w2e8pc3"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "Resource creation Initiated",
            "ResourceType": "AWS::ApiGateway::Deployment",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "ServerlessRestApiDeployment47fc2d5f9d-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "ServerlessRestApiDeployment47fc2d5f9d",
            "PhysicalResourceId": "",
            "ResourceProperties": {
              "Description": "RestApi deployment id: 47fc2d5f9d21ad56f83937abe2779d0e26d7095e",
              "StageName": "Stage",
              "RestApiId": "317w2e8pc3"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::ApiGateway::Deployment",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ],
        "ServerlessRestApiProdStage": [
          {
            "EventId": "ServerlessRestApiProdStage-CREATE_COMPLETE-date",
            "LogicalResourceId": "ServerlessRestApiProdStage",
            "PhysicalResourceId": "Prod",
            "ResourceProperties": {
              "DeploymentId": "5oj1e3",
              "StageName": "Prod",
              "RestApiId": "317w2e8pc3"
            },
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::ApiGateway::Stage",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "ServerlessRestApiProdStage-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "ServerlessRestApiProdStage",
            "PhysicalResourceId": "Prod",
            "ResourceProperties": {
              "DeploymentId": "5oj1e3",
              "StageName": "Prod",
              "RestApiId": "317w2e8pc3"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "Resource creation Initiated",
            "ResourceType": "AWS::ApiGateway::Stage",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "ServerlessRestApiProdStage-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "ServerlessRestApiProdStage",
            "PhysicalResourceId": "",
            "ResourceProperties": {
              "DeploymentId": "5oj1e3",
              "StageName": "Prod",
              "RestApiId": "317w2e8pc3"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::ApiGateway::Stage",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ],
        "<stack-name:1>": [
          {
            "EventId": "<uuid:1>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:2>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE_CLEANUP_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:3>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:4>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:5>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:6>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ]
      },
      "delete-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      }
    }
  },
  "tests/aws/services/cloudformation/v2/test_change_set_fn_transform.py::TestChangeSetFnTransform::test_global_macro_fn_transform": {
    "recorded-date": "03-06-2025, 21:42:32",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "original",
                  "Type": "String",
                  "Name": "name-1"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "Value": "{Substitution}",
                  "Type": "String",
                  "Name": "name-1"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "Value": "original",
                  "Type": "String",
                  "Name": "name-1"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "{Substitution}",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "original",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "name-1",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Substitution",
            "ParameterValue": "SubstitutionDefault"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "name-1",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Substitution",
            "ParameterValue": "SubstitutionDefault"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Substitution",
            "ParameterValue": "SubstitutionDefault"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Parameter": [
          {
            "EventId": "Parameter-UPDATE_COMPLETE-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "name-1",
            "ResourceProperties": {
              "Type": "String",
              "Value": "{Substitution}",
              "Name": "name-1"
            },
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-UPDATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "name-1",
            "ResourceProperties": {
              "Type": "String",
              "Value": "{Substitution}",
              "Name": "name-1"
            },
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_COMPLETE-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "name-1",
            "ResourceProperties": {
              "Type": "String",
              "Value": "original",
              "Name": "name-1"
            },
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "name-1",
            "ResourceProperties": {
              "Type": "String",
              "Value": "original",
              "Name": "name-1"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "Resource creation Initiated",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "",
            "ResourceProperties": {
              "Type": "String",
              "Value": "original",
              "Name": "name-1"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ],
        "<stack-name:1>": [
          {
            "EventId": "<uuid:1>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:2>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE_CLEANUP_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:3>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:4>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:5>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:6>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ]
      },
      "delete-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Substitution",
            "ParameterValue": "SubstitutionDefault"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      }
    }
  },
  "tests/aws/services/cloudformation/v2/test_change_set_fn_transform.py::TestChangeSetFnTransform::test_embedded_macro_fn_transform": {
    "recorded-date": "03-06-2025, 21:51:11",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "foo",
                  "Type": "String",
                  "Name": "name-1"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "Value": "foo",
                  "Type": "String",
                  "Tags": {
                    "MacroAdded": "True"
                  },
                  "Name": "name-1"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "Value": "foo",
                  "Type": "String",
                  "Name": "name-1"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": {
                      "MacroAdded": "True"
                    },
                    "Attribute": "Properties",
                    "AttributeChangeType": "Add",
                    "Name": "Tags",
                    "Path": "/Properties/Tags",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "name-1",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Tags",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "name-1",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Parameter": [
          {
            "EventId": "Parameter-UPDATE_COMPLETE-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "name-1",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Tags": {
                "MacroAdded": "True"
              },
              "Name": "name-1"
            },
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-UPDATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "name-1",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Tags": {
                "MacroAdded": "True"
              },
              "Name": "name-1"
            },
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_COMPLETE-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "name-1",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "name-1"
            },
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "name-1",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "name-1"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "Resource creation Initiated",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "",
            "ResourceProperties": {
              "Type": "String",
              "Value": "foo",
              "Name": "name-1"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ],
        "<stack-name:1>": [
          {
            "EventId": "<uuid:1>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:2>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE_CLEANUP_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:3>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:4>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:5>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:6>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ]
      },
      "delete-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      }
    }
  },
  "tests/aws/services/cloudformation/v2/test_change_set_fn_transform.py::TestChangeSetFnTransform::test_embedded_macro_for_attribute_fn_transform": {
    "recorded-date": "03-06-2025, 21:34:07",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "<value:1>",
                  "Type": "String",
                  "Name": "parameter-name"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "Value": "<value:2>",
                  "Type": "String",
                  "Name": "parameter-name"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "Value": "<value:1>",
                  "Type": "String",
                  "Name": "parameter-name"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "<value:2>",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "<value:1>",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "parameter-name",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Input",
            "ParameterValue": "test"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "parameter-name",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Input",
            "ParameterValue": "test"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Input",
            "ParameterValue": "test"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Parameter": [
          {
            "EventId": "Parameter-UPDATE_COMPLETE-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "parameter-name",
            "ResourceProperties": {
              "Type": "String",
              "Value": "<value:2>",
              "Name": "parameter-name"
            },
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-UPDATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "parameter-name",
            "ResourceProperties": {
              "Type": "String",
              "Value": "<value:2>",
              "Name": "parameter-name"
            },
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_COMPLETE-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "parameter-name",
            "ResourceProperties": {
              "Type": "String",
              "Value": "<value:1>",
              "Name": "parameter-name"
            },
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "parameter-name",
            "ResourceProperties": {
              "Type": "String",
              "Value": "<value:1>",
              "Name": "parameter-name"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "Resource creation Initiated",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "",
            "ResourceProperties": {
              "Type": "String",
              "Value": "<value:1>",
              "Name": "parameter-name"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ],
        "<stack-name:1>": [
          {
            "EventId": "<uuid:1>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:2>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE_CLEANUP_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:3>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:4>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:5>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:6>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ]
      },
      "delete-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Input",
            "ParameterValue": "test"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      }
    }
  },
  "tests/aws/services/cloudformation/v2/test_change_set_fn_transform.py::TestChangeSetFnTransform::test_multiple_fn_transform_order": {
    "recorded-date": "03-06-2025, 21:34:52",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "<value:1>",
                  "Type": "String",
                  "Name": "parameter-name"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "Value": "<value:2>",
                  "Type": "String",
                  "Name": "parameter-name"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "Value": "<value:1>",
                  "Type": "String",
                  "Name": "parameter-name"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "<value:2>",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "<value:1>",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "parameter-name",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "parameter-name",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Parameter": [
          {
            "EventId": "Parameter-UPDATE_COMPLETE-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "parameter-name",
            "ResourceProperties": {
              "Type": "String",
              "Value": "<value:2>",
              "Name": "parameter-name"
            },
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-UPDATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "parameter-name",
            "ResourceProperties": {
              "Type": "String",
              "Value": "<value:2>",
              "Name": "parameter-name"
            },
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_COMPLETE-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "parameter-name",
            "ResourceProperties": {
              "Type": "String",
              "Value": "<value:1>",
              "Name": "parameter-name"
            },
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "parameter-name",
            "ResourceProperties": {
              "Type": "String",
              "Value": "<value:1>",
              "Name": "parameter-name"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "Resource creation Initiated",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "Parameter-CREATE_IN_PROGRESS-date",
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "",
            "ResourceProperties": {
              "Type": "String",
              "Value": "<value:1>",
              "Name": "parameter-name"
            },
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ],
        "<stack-name:1>": [
          {
            "EventId": "<uuid:1>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:2>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE_CLEANUP_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:3>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:4>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:5>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          },
          {
            "EventId": "<uuid:6>",
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceStatusReason": "User Initiated",
            "ResourceType": "AWS::CloudFormation::Stack",
            "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "StackName": "<stack-name:1>",
            "Timestamp": "timestamp"
          }
        ]
      },
      "delete-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      }
    }
  },
  "tests/aws/services/cloudformation/v2/test_change_set_fn_transform.py::TestChangeSetFnTransform::test_conditional_transform": {
    "recorded-date": "20-06-2025, 21:12:31",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "<value:1>",
                  "Type": "String",
                  "Name": "parameter-name"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "Value": "<value:2>",
                  "Type": "String",
                  "Name": "parameter-name"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "Value": "<value:1>",
                  "Type": "String",
                  "Name": "parameter-name"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "<value:2>",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "<value:1>",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "parameter-name",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Transform",
            "ParameterValue": "true"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "parameter-name",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Transform",
            "ParameterValue": "true"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Transform",
            "ParameterValue": "true"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "delete-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Transform",
            "ParameterValue": "true"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Parameter": [
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "parameter-name",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "parameter-name",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "parameter-name",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "Stack": [
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          }
        ]
      }
    }
  },
  "tests/aws/services/cloudformation/v2/test_change_set_fn_transform.py::TestChangeSetFnTransform::test_conditional_transform[true]": {
    "recorded-date": "20-06-2025, 21:15:45",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "<value:1>",
                  "Type": "String",
                  "Name": "parameter-name"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "Value": "<value:2>",
                  "Type": "String",
                  "Name": "parameter-name"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "Value": "<value:1>",
                  "Type": "String",
                  "Name": "parameter-name"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "<value:2>",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "<value:1>",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "parameter-name",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Transform",
            "ParameterValue": "true"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "parameter-name",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Transform",
            "ParameterValue": "true"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Transform",
            "ParameterValue": "true"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "delete-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Transform",
            "ParameterValue": "true"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Parameter": [
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "parameter-name",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "parameter-name",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "parameter-name",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "Stack": [
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          }
        ]
      }
    }
  },
  "tests/aws/services/cloudformation/v2/test_change_set_fn_transform.py::TestChangeSetFnTransform::test_conditional_transform[false]": {
    "recorded-date": "20-06-2025, 21:16:29",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "<value:1>",
                  "Type": "String",
                  "Name": "parameter-name"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Remove",
              "BeforeContext": {
                "Properties": {
                  "Value": "<value:1>",
                  "Type": "String",
                  "Name": "parameter-name"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "parameter-name",
              "PolicyAction": "Delete",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Transform",
            "ParameterValue": "false"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Remove",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "parameter-name",
              "PolicyAction": "Delete",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Transform",
            "ParameterValue": "false"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Transform",
            "ParameterValue": "false"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "delete-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "Parameters": [
          {
            "ParameterKey": "Transform",
            "ParameterValue": "false"
          }
        ],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Parameter": [
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "parameter-name",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "Stack": [
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          }
        ]
      }
    }
  },
  "tests/aws/services/cloudformation/v2/test_change_set_fn_transform.py::TestChangeSetFnTransform::test_macro_with_function": {
    "recorded-date": "20-06-2025, 22:19:25",
    "recorded-content": {
      "create-change-set-1": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "AfterContext": {
                "Properties": {
                  "Value": "<value:1>",
                  "Type": "String",
                  "Name": "parameter-name"
                }
              },
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-1": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Add",
              "Details": [],
              "LogicalResourceId": "Parameter",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": []
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-1": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-1-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:1>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "CREATE_COMPLETE",
        "Tags": []
      },
      "create-change-set-2": {
        "Id": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2-prop-values": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "AfterContext": {
                "Properties": {
                  "Value": "<value:2>",
                  "Type": "String",
                  "Name": "parameter-name"
                }
              },
              "BeforeContext": {
                "Properties": {
                  "Value": "<value:1>",
                  "Type": "String",
                  "Name": "parameter-name"
                }
              },
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "AfterValue": "<value:2>",
                    "Attribute": "Properties",
                    "AttributeChangeType": "Modify",
                    "BeforeValue": "<value:1>",
                    "Name": "Value",
                    "Path": "/Properties/Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "parameter-name",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "describe-change-set-2": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "ChangeSetName": "<change-set-id:1>",
        "Changes": [
          {
            "ResourceChange": {
              "Action": "Modify",
              "Details": [
                {
                  "ChangeSource": "DirectModification",
                  "Evaluation": "Static",
                  "Target": {
                    "Attribute": "Properties",
                    "Name": "Value",
                    "RequiresRecreation": "Never"
                  }
                }
              ],
              "LogicalResourceId": "Parameter",
              "PhysicalResourceId": "parameter-name",
              "Replacement": "False",
              "ResourceType": "AWS::SSM::Parameter",
              "Scope": [
                "Properties"
              ]
            },
            "Type": "Resource"
          }
        ],
        "CreationTime": "datetime",
        "ExecutionStatus": "AVAILABLE",
        "IncludeNestedStacks": false,
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "Status": "CREATE_COMPLETE",
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execute-change-set-2": {
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "post-create-2-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "ChangeSetId": "arn:<partition>:cloudformation:<region>:111111111111:changeSet/<resource:3>",
        "CreationTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "EnableTerminationProtection": false,
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "UPDATE_COMPLETE",
        "Tags": []
      },
      "delete-describe": {
        "Capabilities": [
          "CAPABILITY_IAM",
          "CAPABILITY_NAMED_IAM",
          "CAPABILITY_AUTO_EXPAND"
        ],
        "CreationTime": "datetime",
        "DeletionTime": "datetime",
        "DisableRollback": false,
        "DriftInformation": {
          "StackDriftStatus": "NOT_CHECKED"
        },
        "LastUpdatedTime": "datetime",
        "NotificationARNs": [],
        "RollbackConfiguration": {},
        "StackId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
        "StackName": "<stack-name:1>",
        "StackStatus": "DELETE_COMPLETE",
        "Tags": []
      },
      "per-resource-events": {
        "Parameter": [
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "parameter-name",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "parameter-name",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "Parameter",
            "PhysicalResourceId": "parameter-name",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::SSM::Parameter",
            "Timestamp": "timestamp"
          }
        ],
        "Stack": [
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "REVIEW_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "CREATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_IN_PROGRESS",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          },
          {
            "LogicalResourceId": "<stack-name:1>",
            "PhysicalResourceId": "arn:<partition>:cloudformation:<region>:111111111111:stack/<stack-name:1>/<resource:2>",
            "ResourceStatus": "UPDATE_COMPLETE",
            "ResourceType": "AWS::CloudFormation::Stack",
            "Timestamp": "timestamp"
          }
        ]
      }
    }
  }
}
