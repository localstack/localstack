{
  "tests/aws/services/stepfunctions/v2/callback/test_callback.py::TestCallback::test_sqs_wait_for_task_token": {
    "recorded-date": "18-04-2024, 06:19:31",
    "recorded-content": {
      "get_execution_history": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt"
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:<partition>:iam::111111111111:role/<resource:1>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt"
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "SendMessageWithWait"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "parameters": {
                "MessageBody": {
                  "Message": "test_message_txt",
                  "TaskToken": "<<task_token>:1>"
                },
                "QueueUrl": "<sqs_queue_url>"
              },
              "region": "<region>",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "MD5OfMessageBody": "<m-d5-of-message-body:1>",
                "MessageId": "<uuid:1>",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:2>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "106"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "106",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:2>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:2>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskSucceededEventDetails": {
              "output": "\"test_message_txt\"",
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSucceeded"
          },
          {
            "id": 7,
            "previousEventId": 6,
            "stateExitedEventDetails": {
              "name": "SendMessageWithWait",
              "output": "\"test_message_txt\"",
              "outputDetails": {
                "truncated": false
              }
            },
            "timestamp": "timestamp",
            "type": "TaskStateExited"
          },
          {
            "executionSucceededEventDetails": {
              "output": "\"test_message_txt\"",
              "outputDetails": {
                "truncated": false
              }
            },
            "id": 8,
            "previousEventId": 7,
            "timestamp": "timestamp",
            "type": "ExecutionSucceeded"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/aws/services/stepfunctions/v2/callback/test_callback.py::TestCallback::test_sqs_wait_for_task_token_timeout": {
    "recorded-date": "18-04-2024, 06:20:28",
    "recorded-content": {
      "get_execution_history": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt"
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:<partition>:iam::111111111111:role/<resource:1>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt"
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "SendMessageWithWaitAndTimeout"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "parameters": {
                "MessageBody": {
                  "Message": "test_message_txt",
                  "TaskToken": "<<task_token>:1>"
                },
                "QueueUrl": "<sqs_queue_url>"
              },
              "region": "<region>",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs",
              "timeoutInSeconds": 5
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "MD5OfMessageBody": "<m-d5-of-message-body:1>",
                "MessageId": "<uuid:1>",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:2>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "106"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "106",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:2>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:2>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskTimedOutEventDetails": {
              "error": "States.Timeout",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskTimedOut"
          },
          {
            "executionFailedEventDetails": {
              "error": "States.Timeout"
            },
            "id": 7,
            "previousEventId": 6,
            "timestamp": "timestamp",
            "type": "ExecutionFailed"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/aws/services/stepfunctions/v2/callback/test_callback.py::TestCallback::test_sqs_failure_in_wait_for_task_token": {
    "recorded-date": "18-04-2024, 06:24:24",
    "recorded-content": {
      "get_execution_history": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt"
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:<partition>:iam::111111111111:role/<resource:1>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt"
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "SendMessageWithWait"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "parameters": {
                "MessageBody": {
                  "Message": "test_message_txt",
                  "TaskToken": "<task_token:1>"
                },
                "QueueUrl": "<sqs_queue_url>"
              },
              "region": "<region>",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "MD5OfMessageBody": "<m-d5-of-message-body:1>",
                "MessageId": "<uuid:1>",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:2>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "106"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "106",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:2>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:2>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskFailedEventDetails": {
              "cause": "Failure cause",
              "error": "Failure error",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskFailed"
          },
          {
            "executionFailedEventDetails": {
              "cause": "Failure cause",
              "error": "Failure error"
            },
            "id": 7,
            "previousEventId": 6,
            "timestamp": "timestamp",
            "type": "ExecutionFailed"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/aws/services/stepfunctions/v2/callback/test_callback.py::TestCallback::test_sqs_wait_for_task_tok_with_heartbeat": {
    "recorded-date": "18-04-2024, 06:25:26",
    "recorded-content": {
      "get_execution_history": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt"
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:<partition>:iam::111111111111:role/<resource:1>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt"
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "SendMessageWithWait"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "heartbeatInSeconds": 60,
              "parameters": {
                "MessageBody": {
                  "Message": "test_message_txt",
                  "TaskToken": "<<task_token>:1>"
                },
                "QueueUrl": "<sqs_queue_url>"
              },
              "region": "<region>",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs",
              "timeoutInSeconds": 600
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "MD5OfMessageBody": "<m-d5-of-message-body:1>",
                "MessageId": "<uuid:1>",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:2>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "106"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "106",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:2>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:2>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskSucceededEventDetails": {
              "output": "\"test_message_txt\"",
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSucceeded"
          },
          {
            "id": 7,
            "previousEventId": 6,
            "stateExitedEventDetails": {
              "name": "SendMessageWithWait",
              "output": "\"test_message_txt\"",
              "outputDetails": {
                "truncated": false
              }
            },
            "timestamp": "timestamp",
            "type": "TaskStateExited"
          },
          {
            "executionSucceededEventDetails": {
              "output": "\"test_message_txt\"",
              "outputDetails": {
                "truncated": false
              }
            },
            "id": 8,
            "previousEventId": 7,
            "timestamp": "timestamp",
            "type": "ExecutionSucceeded"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/aws/services/stepfunctions/v2/callback/test_callback.py::TestCallback::test_start_execution_sync": {
    "recorded-date": "30-06-2023, 14:42:19",
    "recorded-content": {
      "get_execution_history": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Input": null,
                "Name": "TestStartTarget"
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "snf_role_arn"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Input": null,
                "Name": "TestStartTarget"
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "StartExecution"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "parameters": {
                "Input": null,
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Name": "TestStartTarget"
              },
              "region": "<region>",
              "resource": "startExecution.sync",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "startExecution.sync",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "ExecutionArn": "arn:<partition>:states:<region>:111111111111:execution:<ArnPart_0idx>:TestStartTarget",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:1>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "161"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "161",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:1>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:1>"
                },
                "StartDate": "start-date"
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "startExecution.sync",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskSucceededEventDetails": {
              "output": {
                "ExecutionArn": "arn:<partition>:states:<region>:111111111111:execution:<ArnPart_0idx>:TestStartTarget",
                "Input": "{}",
                "InputDetails": {
                  "Included": true
                },
                "Name": "TestStartTarget",
                "Output": "{\"Arg1\":\"argument1\"}",
                "OutputDetails": {
                  "Included": true
                },
                "StartDate": "start-date",
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Status": "SUCCEEDED",
                "StopDate": "stop-date"
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "startExecution.sync",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskSucceeded"
          },
          {
            "id": 7,
            "previousEventId": 6,
            "stateExitedEventDetails": {
              "name": "StartExecution",
              "output": {
                "ExecutionArn": "arn:<partition>:states:<region>:111111111111:execution:<ArnPart_0idx>:TestStartTarget",
                "Input": "{}",
                "InputDetails": {
                  "Included": true
                },
                "Name": "TestStartTarget",
                "Output": "{\"Arg1\":\"argument1\"}",
                "OutputDetails": {
                  "Included": true
                },
                "StartDate": "start-date",
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Status": "SUCCEEDED",
                "StopDate": "stop-date"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "timestamp": "timestamp",
            "type": "TaskStateExited"
          },
          {
            "executionSucceededEventDetails": {
              "output": {
                "ExecutionArn": "arn:<partition>:states:<region>:111111111111:execution:<ArnPart_0idx>:TestStartTarget",
                "Input": "{}",
                "InputDetails": {
                  "Included": true
                },
                "Name": "TestStartTarget",
                "Output": "{\"Arg1\":\"argument1\"}",
                "OutputDetails": {
                  "Included": true
                },
                "StartDate": "start-date",
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Status": "SUCCEEDED",
                "StopDate": "stop-date"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "id": 8,
            "previousEventId": 7,
            "timestamp": "timestamp",
            "type": "ExecutionSucceeded"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/aws/services/stepfunctions/v2/callback/test_callback.py::TestCallback::test_start_execution_sync_delegate_failure": {
    "recorded-date": "05-07-2023, 15:55:56",
    "recorded-content": {
      "get_execution_history": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Input": null,
                "Name": "TestStartTarget"
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "snf_role_arn"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Input": null,
                "Name": "TestStartTarget"
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "StartExecution"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "parameters": {
                "Input": null,
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Name": "TestStartTarget"
              },
              "region": "<region>",
              "resource": "startExecution.sync",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "startExecution.sync",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "ExecutionArn": "arn:<partition>:states:<region>:111111111111:execution:<ArnPart_0idx>:TestStartTarget",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:1>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "161"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "161",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:1>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:1>"
                },
                "StartDate": "start-date"
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "startExecution.sync",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskFailedEventDetails": {
              "cause": {
                "Cause": "This state machines raises a 'SomeFailure' failure.",
                "Error": "SomeFailure",
                "ExecutionArn": "arn:<partition>:states:<region>:111111111111:execution:<ArnPart_0idx>:TestStartTarget",
                "Input": "{}",
                "InputDetails": {
                  "Included": true
                },
                "Name": "TestStartTarget",
                "StartDate": "start-date",
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Status": "FAILED",
                "StopDate": "stop-date"
              },
              "error": "States.TaskFailed",
              "resource": "startExecution.sync",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskFailed"
          },
          {
            "executionFailedEventDetails": {
              "cause": {
                "Cause": "This state machines raises a 'SomeFailure' failure.",
                "Error": "SomeFailure",
                "ExecutionArn": "arn:<partition>:states:<region>:111111111111:execution:<ArnPart_0idx>:TestStartTarget",
                "Input": "{}",
                "InputDetails": {
                  "Included": true
                },
                "Name": "TestStartTarget",
                "StartDate": "start-date",
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Status": "FAILED",
                "StopDate": "stop-date"
              },
              "error": "States.TaskFailed"
            },
            "id": 7,
            "previousEventId": 6,
            "timestamp": "timestamp",
            "type": "ExecutionFailed"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/aws/services/stepfunctions/v2/callback/test_callback.py::TestCallback::test_start_execution_sync_delegate_timeout": {
    "recorded-date": "05-07-2023, 16:16:56",
    "recorded-content": {
      "get_execution_history": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Input": {
                  "Payload": null
                },
                "Name": "TestStartTarget"
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "snf_role_arn"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Input": {
                  "Payload": null
                },
                "Name": "TestStartTarget"
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "StartExecution"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "parameters": {
                "Input": {
                  "Payload": null
                },
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Name": "TestStartTarget"
              },
              "region": "<region>",
              "resource": "startExecution.sync",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "startExecution.sync",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "ExecutionArn": "arn:<partition>:states:<region>:111111111111:execution:<ArnPart_0idx>:TestStartTarget",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:1>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "161"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "161",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:1>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:1>"
                },
                "StartDate": "start-date"
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "startExecution.sync",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskFailedEventDetails": {
              "cause": {
                "Error": "States.Timeout",
                "ExecutionArn": "arn:<partition>:states:<region>:111111111111:execution:<ArnPart_0idx>:TestStartTarget",
                "Input": "{\"Payload\":null}",
                "InputDetails": {
                  "Included": true
                },
                "Name": "TestStartTarget",
                "StartDate": "start-date",
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Status": "FAILED",
                "StopDate": "stop-date"
              },
              "error": "States.TaskFailed",
              "resource": "startExecution.sync",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskFailed"
          },
          {
            "executionFailedEventDetails": {
              "cause": {
                "Error": "States.Timeout",
                "ExecutionArn": "arn:<partition>:states:<region>:111111111111:execution:<ArnPart_0idx>:TestStartTarget",
                "Input": "{\"Payload\":null}",
                "InputDetails": {
                  "Included": true
                },
                "Name": "TestStartTarget",
                "StartDate": "start-date",
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Status": "FAILED",
                "StopDate": "stop-date"
              },
              "error": "States.TaskFailed"
            },
            "id": 7,
            "previousEventId": 6,
            "timestamp": "timestamp",
            "type": "ExecutionFailed"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/aws/services/stepfunctions/v2/callback/test_callback.py::TestCallback::test_start_execution_sync2": {
    "recorded-date": "12-08-2023, 16:45:39",
    "recorded-content": {
      "get_execution_history": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Input": null,
                "Name": "TestStartTarget"
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "snf_role_arn"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Input": null,
                "Name": "TestStartTarget"
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "StartExecution"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "parameters": {
                "Input": null,
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Name": "TestStartTarget"
              },
              "region": "<region>",
              "resource": "startExecution.sync:2",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "startExecution.sync:2",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "ExecutionArn": "arn:<partition>:states:<region>:111111111111:execution:<ArnPart_0idx>:TestStartTarget",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:1>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "161"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "161",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:1>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:1>"
                },
                "StartDate": "start-date"
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "startExecution.sync:2",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskSucceededEventDetails": {
              "output": {
                "ExecutionArn": "arn:<partition>:states:<region>:111111111111:execution:<ArnPart_0idx>:TestStartTarget",
                "Input": {},
                "InputDetails": {
                  "Included": true
                },
                "Name": "TestStartTarget",
                "Output": {
                  "Arg1": "argument1"
                },
                "OutputDetails": {
                  "Included": true
                },
                "StartDate": "start-date",
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Status": "SUCCEEDED",
                "StopDate": "stop-date"
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "startExecution.sync:2",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskSucceeded"
          },
          {
            "id": 7,
            "previousEventId": 6,
            "stateExitedEventDetails": {
              "name": "StartExecution",
              "output": {
                "ExecutionArn": "arn:<partition>:states:<region>:111111111111:execution:<ArnPart_0idx>:TestStartTarget",
                "Input": {},
                "InputDetails": {
                  "Included": true
                },
                "Name": "TestStartTarget",
                "Output": {
                  "Arg1": "argument1"
                },
                "OutputDetails": {
                  "Included": true
                },
                "StartDate": "start-date",
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Status": "SUCCEEDED",
                "StopDate": "stop-date"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "timestamp": "timestamp",
            "type": "TaskStateExited"
          },
          {
            "executionSucceededEventDetails": {
              "output": {
                "ExecutionArn": "arn:<partition>:states:<region>:111111111111:execution:<ArnPart_0idx>:TestStartTarget",
                "Input": {},
                "InputDetails": {
                  "Included": true
                },
                "Name": "TestStartTarget",
                "Output": {
                  "Arg1": "argument1"
                },
                "OutputDetails": {
                  "Included": true
                },
                "StartDate": "start-date",
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<ArnPart_0idx>",
                "Status": "SUCCEEDED",
                "StopDate": "stop-date"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "id": 8,
            "previousEventId": 7,
            "timestamp": "timestamp",
            "type": "ExecutionSucceeded"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/aws/services/stepfunctions/v2/callback/test_callback.py::TestCallback::test_sns_publish_wait_for_task_token": {
    "recorded-date": "01-02-2024, 20:51:35",
    "recorded-content": {
      "get_execution_history": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "TopicArn": "arn:<partition>:sns:<region>:111111111111:<resource:1>",
                "body": {
                  "arg1": "Hello",
                  "arg2": "World"
                }
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:<partition>:iam::111111111111:role/<resource:2>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "TopicArn": "arn:<partition>:sns:<region>:111111111111:<resource:1>",
                "body": {
                  "arg1": "Hello",
                  "arg2": "World"
                }
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "Publish"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "parameters": {
                "Message": {
                  "arg2": "World",
                  "arg1": "Hello",
                  "TaskToken": "<task_token:1>"
                },
                "TopicArn": "arn:<partition>:sns:<region>:111111111111:<resource:1>"
              },
              "region": "<region>",
              "resource": "publish.waitForTaskToken",
              "resourceType": "sns"
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "publish.waitForTaskToken",
              "resourceType": "sns"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "MessageId": "<uuid:1>",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:2>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "294"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "text/xml"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "294",
                    "Content-Type": "text/xml",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:2>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:2>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "publish.waitForTaskToken",
              "resourceType": "sns"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskSucceededEventDetails": {
              "output": {},
              "outputDetails": {
                "truncated": false
              },
              "resource": "publish.waitForTaskToken",
              "resourceType": "sns"
            },
            "timestamp": "timestamp",
            "type": "TaskSucceeded"
          },
          {
            "id": 7,
            "previousEventId": 6,
            "stateExitedEventDetails": {
              "name": "Publish",
              "output": {},
              "outputDetails": {
                "truncated": false
              }
            },
            "timestamp": "timestamp",
            "type": "TaskStateExited"
          },
          {
            "executionSucceededEventDetails": {
              "output": {},
              "outputDetails": {
                "truncated": false
              }
            },
            "id": 8,
            "previousEventId": 7,
            "timestamp": "timestamp",
            "type": "ExecutionSucceeded"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "messages": [
        {
          "Type": "Notification",
          "MessageId": "<uuid:1>",
          "TopicArn": "arn:<partition>:sns:<region>:111111111111:<resource:1>",
          "Message": {
            "arg2": "World",
            "arg1": "Hello",
            "TaskToken": "<task_token:1>"
          },
          "Timestamp": "date",
          "SignatureVersion": "1",
          "Signature": "<signature>",
          "SigningCertURL": "<cert-domain>/SimpleNotificationService-<signing-cert-file:1>",
          "UnsubscribeURL": "<unsubscribe-domain>/?Action=Unsubscribe&SubscriptionArn=arn:<partition>:sns:<region>:111111111111:<resource:1>:<resource:3>"
        }
      ]
    }
  },
  "tests/aws/services/stepfunctions/v2/callback/test_callback.py::TestCallback::test_multiple_heartbeat_notifications": {
    "recorded-date": "18-04-2024, 06:17:37",
    "recorded-content": {
      "get_execution_history": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "QueueUrl": "sqs_queue_url",
                "Message": "txt",
                "HeartbeatSecondsPath": 120
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:<partition>:iam::111111111111:role/<resource:1>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "sqs_queue_url",
                "Message": "txt",
                "HeartbeatSecondsPath": 120
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "SendMessageWithWait"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "heartbeatInSeconds": 120,
              "parameters": {
                "MessageBody": {
                  "Message": "txt",
                  "TaskToken": "<task_token:1>"
                },
                "QueueUrl": "sqs_queue_url"
              },
              "region": "<region>",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs",
              "timeoutInSeconds": 600
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "MD5OfMessageBody": "<m-d5-of-message-body:1>",
                "MessageId": "<uuid:1>",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:2>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "106"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "106",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:2>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:2>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskSucceededEventDetails": {
              "output": {
                "Message": "txt",
                "TaskToken": "<task_token:1>"
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSucceeded"
          },
          {
            "id": 7,
            "previousEventId": 6,
            "stateExitedEventDetails": {
              "name": "SendMessageWithWait",
              "output": {
                "Message": "txt",
                "TaskToken": "<task_token:1>"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "timestamp": "timestamp",
            "type": "TaskStateExited"
          },
          {
            "executionSucceededEventDetails": {
              "output": {
                "Message": "txt",
                "TaskToken": "<task_token:1>"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "id": 8,
            "previousEventId": 7,
            "timestamp": "timestamp",
            "type": "ExecutionSucceeded"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/aws/services/stepfunctions/v2/callback/test_callback.py::TestCallback::test_multiple_executions_and_heartbeat_notifications": {
    "recorded-date": "18-04-2024, 06:18:29",
    "recorded-content": {
      "execution_history_0": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "QueueUrl": "sqs_queue_url",
                "Message": "txt",
                "HeartbeatSecondsPath": 120
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:<partition>:iam::111111111111:role/<resource:1>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "sqs_queue_url",
                "Message": "txt",
                "HeartbeatSecondsPath": 120
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "SendMessageWithWait"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "heartbeatInSeconds": 120,
              "parameters": {
                "MessageBody": {
                  "Message": "txt",
                  "TaskToken": "a_task_token"
                },
                "QueueUrl": "sqs_queue_url"
              },
              "region": "<region>",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs",
              "timeoutInSeconds": 600
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "MD5OfMessageBody": "<m-d5-of-message-body:1>",
                "MessageId": "a_message_id",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:1>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "106"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "106",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:1>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:1>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskSucceededEventDetails": {
              "output": {
                "Message": "txt",
                "TaskToken": "a_task_token"
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSucceeded"
          },
          {
            "id": 7,
            "previousEventId": 6,
            "stateExitedEventDetails": {
              "name": "SendMessageWithWait",
              "output": {
                "Message": "txt",
                "TaskToken": "a_task_token"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "timestamp": "timestamp",
            "type": "TaskStateExited"
          },
          {
            "executionSucceededEventDetails": {
              "output": {
                "Message": "txt",
                "TaskToken": "a_task_token"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "id": 8,
            "previousEventId": 7,
            "timestamp": "timestamp",
            "type": "ExecutionSucceeded"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execution_history_1": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "QueueUrl": "sqs_queue_url",
                "Message": "txt",
                "HeartbeatSecondsPath": 120
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:<partition>:iam::111111111111:role/<resource:1>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "sqs_queue_url",
                "Message": "txt",
                "HeartbeatSecondsPath": 120
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "SendMessageWithWait"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "heartbeatInSeconds": 120,
              "parameters": {
                "MessageBody": {
                  "Message": "txt",
                  "TaskToken": "a_task_token"
                },
                "QueueUrl": "sqs_queue_url"
              },
              "region": "<region>",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs",
              "timeoutInSeconds": 600
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "MD5OfMessageBody": "<m-d5-of-message-body:2>",
                "MessageId": "a_message_id",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:2>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "106"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "106",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:2>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:2>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskSucceededEventDetails": {
              "output": {
                "Message": "txt",
                "TaskToken": "a_task_token"
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSucceeded"
          },
          {
            "id": 7,
            "previousEventId": 6,
            "stateExitedEventDetails": {
              "name": "SendMessageWithWait",
              "output": {
                "Message": "txt",
                "TaskToken": "a_task_token"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "timestamp": "timestamp",
            "type": "TaskStateExited"
          },
          {
            "executionSucceededEventDetails": {
              "output": {
                "Message": "txt",
                "TaskToken": "a_task_token"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "id": 8,
            "previousEventId": 7,
            "timestamp": "timestamp",
            "type": "ExecutionSucceeded"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execution_history_2": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "QueueUrl": "sqs_queue_url",
                "Message": "txt",
                "HeartbeatSecondsPath": 120
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:<partition>:iam::111111111111:role/<resource:1>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "sqs_queue_url",
                "Message": "txt",
                "HeartbeatSecondsPath": 120
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "SendMessageWithWait"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "heartbeatInSeconds": 120,
              "parameters": {
                "MessageBody": {
                  "Message": "txt",
                  "TaskToken": "a_task_token"
                },
                "QueueUrl": "sqs_queue_url"
              },
              "region": "<region>",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs",
              "timeoutInSeconds": 600
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "MD5OfMessageBody": "<m-d5-of-message-body:3>",
                "MessageId": "a_message_id",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:3>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "106"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "106",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:3>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:3>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskSucceededEventDetails": {
              "output": {
                "Message": "txt",
                "TaskToken": "a_task_token"
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSucceeded"
          },
          {
            "id": 7,
            "previousEventId": 6,
            "stateExitedEventDetails": {
              "name": "SendMessageWithWait",
              "output": {
                "Message": "txt",
                "TaskToken": "a_task_token"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "timestamp": "timestamp",
            "type": "TaskStateExited"
          },
          {
            "executionSucceededEventDetails": {
              "output": {
                "Message": "txt",
                "TaskToken": "a_task_token"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "id": 8,
            "previousEventId": 7,
            "timestamp": "timestamp",
            "type": "ExecutionSucceeded"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execution_history_3": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "QueueUrl": "sqs_queue_url",
                "Message": "txt",
                "HeartbeatSecondsPath": 120
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:<partition>:iam::111111111111:role/<resource:1>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "sqs_queue_url",
                "Message": "txt",
                "HeartbeatSecondsPath": 120
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "SendMessageWithWait"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "heartbeatInSeconds": 120,
              "parameters": {
                "MessageBody": {
                  "Message": "txt",
                  "TaskToken": "a_task_token"
                },
                "QueueUrl": "sqs_queue_url"
              },
              "region": "<region>",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs",
              "timeoutInSeconds": 600
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "MD5OfMessageBody": "<m-d5-of-message-body:4>",
                "MessageId": "a_message_id",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:4>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "106"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "106",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:4>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:4>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskSucceededEventDetails": {
              "output": {
                "Message": "txt",
                "TaskToken": "a_task_token"
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSucceeded"
          },
          {
            "id": 7,
            "previousEventId": 6,
            "stateExitedEventDetails": {
              "name": "SendMessageWithWait",
              "output": {
                "Message": "txt",
                "TaskToken": "a_task_token"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "timestamp": "timestamp",
            "type": "TaskStateExited"
          },
          {
            "executionSucceededEventDetails": {
              "output": {
                "Message": "txt",
                "TaskToken": "a_task_token"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "id": 8,
            "previousEventId": 7,
            "timestamp": "timestamp",
            "type": "ExecutionSucceeded"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execution_history_4": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "QueueUrl": "sqs_queue_url",
                "Message": "txt",
                "HeartbeatSecondsPath": 120
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:<partition>:iam::111111111111:role/<resource:1>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "sqs_queue_url",
                "Message": "txt",
                "HeartbeatSecondsPath": 120
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "SendMessageWithWait"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "heartbeatInSeconds": 120,
              "parameters": {
                "MessageBody": {
                  "Message": "txt",
                  "TaskToken": "a_task_token"
                },
                "QueueUrl": "sqs_queue_url"
              },
              "region": "<region>",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs",
              "timeoutInSeconds": 600
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "MD5OfMessageBody": "<m-d5-of-message-body:5>",
                "MessageId": "a_message_id",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:5>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "106"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "106",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:5>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:5>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskSucceededEventDetails": {
              "output": {
                "Message": "txt",
                "TaskToken": "a_task_token"
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSucceeded"
          },
          {
            "id": 7,
            "previousEventId": 6,
            "stateExitedEventDetails": {
              "name": "SendMessageWithWait",
              "output": {
                "Message": "txt",
                "TaskToken": "a_task_token"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "timestamp": "timestamp",
            "type": "TaskStateExited"
          },
          {
            "executionSucceededEventDetails": {
              "output": {
                "Message": "txt",
                "TaskToken": "a_task_token"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "id": 8,
            "previousEventId": 7,
            "timestamp": "timestamp",
            "type": "ExecutionSucceeded"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      },
      "execution_history_5": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "QueueUrl": "sqs_queue_url",
                "Message": "txt",
                "HeartbeatSecondsPath": 120
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:<partition>:iam::111111111111:role/<resource:1>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "sqs_queue_url",
                "Message": "txt",
                "HeartbeatSecondsPath": 120
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "SendMessageWithWait"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "heartbeatInSeconds": 120,
              "parameters": {
                "MessageBody": {
                  "Message": "txt",
                  "TaskToken": "a_task_token"
                },
                "QueueUrl": "sqs_queue_url"
              },
              "region": "<region>",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs",
              "timeoutInSeconds": 600
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "MD5OfMessageBody": "<m-d5-of-message-body:6>",
                "MessageId": "a_message_id",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:6>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "106"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "106",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:6>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:6>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskSucceededEventDetails": {
              "output": {
                "Message": "txt",
                "TaskToken": "a_task_token"
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSucceeded"
          },
          {
            "id": 7,
            "previousEventId": 6,
            "stateExitedEventDetails": {
              "name": "SendMessageWithWait",
              "output": {
                "Message": "txt",
                "TaskToken": "a_task_token"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "timestamp": "timestamp",
            "type": "TaskStateExited"
          },
          {
            "executionSucceededEventDetails": {
              "output": {
                "Message": "txt",
                "TaskToken": "a_task_token"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "id": 8,
            "previousEventId": 7,
            "timestamp": "timestamp",
            "type": "ExecutionSucceeded"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/aws/services/stepfunctions/v2/callback/test_callback.py::TestCallback::test_sqs_wait_for_task_token_call_chain": {
    "recorded-date": "22-04-2024, 14:04:58",
    "recorded-content": {
      "get_execution_history": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "QueueUrl": "sqs_queue_url",
                "Message": "HelloWorld"
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:<partition>:iam::111111111111:role/<resource:1>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "sqs_queue_url",
                "Message": "HelloWorld"
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "State1"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "parameters": {
                "MessageBody": {
                  "Message": "HelloWorld",
                  "TaskToken": "<task_token:1>"
                },
                "QueueUrl": "sqs_queue_url"
              },
              "region": "<region>",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "MD5OfMessageBody": "<m-d5-of-message-body:1>",
                "MessageId": "<message_id:1>",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:1>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "106"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "106",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:1>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:1>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskSucceededEventDetails": {
              "output": "\"HelloWorld\"",
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSucceeded"
          },
          {
            "id": 7,
            "previousEventId": 6,
            "stateExitedEventDetails": {
              "name": "State1",
              "output": {
                "QueueUrl": "sqs_queue_url",
                "Message": "HelloWorld",
                "State1Output": "HelloWorld"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "timestamp": "timestamp",
            "type": "TaskStateExited"
          },
          {
            "id": 8,
            "previousEventId": 7,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "sqs_queue_url",
                "Message": "HelloWorld",
                "State1Output": "HelloWorld"
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "State2"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 9,
            "previousEventId": 8,
            "taskScheduledEventDetails": {
              "parameters": {
                "MessageBody": {
                  "Message": "HelloWorld",
                  "TaskToken": "<task_token:2>"
                },
                "QueueUrl": "sqs_queue_url"
              },
              "region": "<region>",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 10,
            "previousEventId": 9,
            "taskStartedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 11,
            "previousEventId": 10,
            "taskSubmittedEventDetails": {
              "output": {
                "MD5OfMessageBody": "<m-d5-of-message-body:2>",
                "MessageId": "<message_id:2>",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:2>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "106"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "106",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:2>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:2>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 12,
            "previousEventId": 11,
            "taskSucceededEventDetails": {
              "output": "\"HelloWorld\"",
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSucceeded"
          },
          {
            "id": 13,
            "previousEventId": 12,
            "stateExitedEventDetails": {
              "name": "State2",
              "output": {
                "QueueUrl": "sqs_queue_url",
                "Message": "HelloWorld",
                "State1Output": "HelloWorld",
                "State2Output": "HelloWorld"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "timestamp": "timestamp",
            "type": "TaskStateExited"
          },
          {
            "executionSucceededEventDetails": {
              "output": {
                "QueueUrl": "sqs_queue_url",
                "Message": "HelloWorld",
                "State1Output": "HelloWorld",
                "State2Output": "HelloWorld"
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "id": 14,
            "previousEventId": 13,
            "timestamp": "timestamp",
            "type": "ExecutionSucceeded"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/aws/services/stepfunctions/v2/callback/test_callback.py::TestCallback::test_sqs_wait_for_task_token_no_token_parameter": {
    "recorded-date": "22-04-2024, 17:15:14",
    "recorded-content": {
      "get_execution_history": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "QueueUrl": "sqs_queue_url"
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:<partition>:iam::111111111111:role/<resource:1>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "sqs_queue_url"
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "State1"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "parameters": {
                "MessageBody": {
                  "Context": {
                    "QueueUrl": "sqs_queue_url"
                  }
                },
                "QueueUrl": "sqs_queue_url"
              },
              "region": "<region>",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs",
              "timeoutInSeconds": 5
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "MD5OfMessageBody": "<m-d5-of-message-body:1>",
                "MessageId": "<uuid:1>",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:2>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "106"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "106",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:2>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:2>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskTimedOutEventDetails": {
              "error": "States.Timeout",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskTimedOut"
          },
          {
            "executionFailedEventDetails": {
              "error": "States.Timeout"
            },
            "id": 7,
            "previousEventId": 6,
            "timestamp": "timestamp",
            "type": "ExecutionFailed"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/aws/services/stepfunctions/v2/callback/test_callback.py::TestCallback::test_sqs_failure_in_wait_for_task_tok_no_error_field[SQS_PARALLEL_WAIT_FOR_TASK_TOKEN]": {
    "recorded-date": "29-04-2024, 10:07:12",
    "recorded-content": {
      "get_execution_history": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt"
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:<partition>:iam::111111111111:role/<resource:1>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt"
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "ParallelJob"
            },
            "timestamp": "timestamp",
            "type": "ParallelStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "timestamp": "timestamp",
            "type": "ParallelStateStarted"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt"
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "SendMessageWithWait"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskScheduledEventDetails": {
              "parameters": {
                "MessageBody": {
                  "Context": {
                    "QueueUrl": "<sqs_queue_url>",
                    "Message": "test_message_txt"
                  },
                  "TaskToken": "<task_token:1>"
                },
                "QueueUrl": "<sqs_queue_url>"
              },
              "region": "<region>",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskStartedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 7,
            "previousEventId": 6,
            "taskSubmittedEventDetails": {
              "output": {
                "MD5OfMessageBody": "<m-d5-of-message-body:1>",
                "MessageId": "<uuid:1>",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:2>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "106"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "106",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:2>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:2>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 8,
            "previousEventId": 7,
            "taskFailedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskFailed"
          },
          {
            "id": 9,
            "previousEventId": 8,
            "timestamp": "timestamp",
            "type": "TaskStateAborted"
          },
          {
            "id": 10,
            "previousEventId": 8,
            "timestamp": "timestamp",
            "type": "ParallelStateFailed"
          },
          {
            "id": 11,
            "previousEventId": 10,
            "stateExitedEventDetails": {
              "name": "ParallelJob",
              "output": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt",
                "states_all_error": {
                  "Error": null,
                  "Cause": null
                }
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "timestamp": "timestamp",
            "type": "ParallelStateExited"
          },
          {
            "id": 12,
            "previousEventId": 11,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt",
                "states_all_error": {
                  "Error": null,
                  "Cause": null
                }
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "CaughtStatesALL"
            },
            "timestamp": "timestamp",
            "type": "PassStateEntered"
          },
          {
            "id": 13,
            "previousEventId": 12,
            "stateExitedEventDetails": {
              "name": "CaughtStatesALL",
              "output": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt",
                "states_all_error": {
                  "Error": null,
                  "Cause": null
                }
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "timestamp": "timestamp",
            "type": "PassStateExited"
          },
          {
            "executionSucceededEventDetails": {
              "output": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt",
                "states_all_error": {
                  "Error": null,
                  "Cause": null
                }
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "id": 14,
            "previousEventId": 13,
            "timestamp": "timestamp",
            "type": "ExecutionSucceeded"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/aws/services/stepfunctions/v2/callback/test_callback.py::TestCallback::test_sqs_failure_in_wait_for_task_tok_no_error_field[SQS_WAIT_FOR_TASK_TOKEN_CATCH]": {
    "recorded-date": "29-04-2024, 10:07:27",
    "recorded-content": {
      "get_execution_history": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt"
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:<partition>:iam::111111111111:role/<resource:1>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt"
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "SendMessageWithWait"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "parameters": {
                "MessageBody": {
                  "Context": {
                    "QueueUrl": "<sqs_queue_url>",
                    "Message": "test_message_txt"
                  },
                  "TaskToken": "<task_token:1>"
                },
                "QueueUrl": "<sqs_queue_url>"
              },
              "region": "<region>",
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "MD5OfMessageBody": "<m-d5-of-message-body:1>",
                "MessageId": "<uuid:1>",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:2>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "106"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "106",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:2>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:2>"
                }
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskFailedEventDetails": {
              "resource": "sendMessage.waitForTaskToken",
              "resourceType": "sqs"
            },
            "timestamp": "timestamp",
            "type": "TaskFailed"
          },
          {
            "id": 7,
            "previousEventId": 6,
            "stateExitedEventDetails": {
              "name": "SendMessageWithWait",
              "output": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt",
                "states_all_error": {
                  "Error": null,
                  "Cause": null
                }
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "timestamp": "timestamp",
            "type": "TaskStateExited"
          },
          {
            "id": 8,
            "previousEventId": 7,
            "stateEnteredEventDetails": {
              "input": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt",
                "states_all_error": {
                  "Error": null,
                  "Cause": null
                }
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "CaughtStatesALL"
            },
            "timestamp": "timestamp",
            "type": "PassStateEntered"
          },
          {
            "id": 9,
            "previousEventId": 8,
            "stateExitedEventDetails": {
              "name": "CaughtStatesALL",
              "output": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt",
                "states_all_error": {
                  "Error": null,
                  "Cause": null
                }
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "timestamp": "timestamp",
            "type": "PassStateExited"
          },
          {
            "executionSucceededEventDetails": {
              "output": {
                "QueueUrl": "<sqs_queue_url>",
                "Message": "test_message_txt",
                "states_all_error": {
                  "Error": null,
                  "Cause": null
                }
              },
              "outputDetails": {
                "truncated": false
              }
            },
            "id": 10,
            "previousEventId": 9,
            "timestamp": "timestamp",
            "type": "ExecutionSucceeded"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  },
  "tests/aws/services/stepfunctions/v2/callback/test_callback.py::TestCallback::test_sync_with_task_token": {
    "recorded-date": "12-07-2024, 07:34:57",
    "recorded-content": {
      "get_execution_history": {
        "events": [
          {
            "executionStartedEventDetails": {
              "input": {
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<resource:1>",
                "Name": "<resource:3>",
                "QueueUrl": "sqs_queue_url"
              },
              "inputDetails": {
                "truncated": false
              },
              "roleArn": "arn:<partition>:iam::111111111111:role/<resource:2>"
            },
            "id": 1,
            "previousEventId": 0,
            "timestamp": "timestamp",
            "type": "ExecutionStarted"
          },
          {
            "id": 2,
            "previousEventId": 0,
            "stateEnteredEventDetails": {
              "input": {
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<resource:1>",
                "Name": "<resource:3>",
                "QueueUrl": "sqs_queue_url"
              },
              "inputDetails": {
                "truncated": false
              },
              "name": "StartExecution"
            },
            "timestamp": "timestamp",
            "type": "TaskStateEntered"
          },
          {
            "id": 3,
            "previousEventId": 2,
            "taskScheduledEventDetails": {
              "parameters": {
                "Input": {
                  "TaskToken": "<task_token:1>",
                  "QueueUrl": "sqs_queue_url"
                },
                "StateMachineArn": "arn:<partition>:states:<region>:111111111111:stateMachine:<resource:1>",
                "Name": "<resource:3>"
              },
              "region": "<region>",
              "resource": "startExecution.sync",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskScheduled"
          },
          {
            "id": 4,
            "previousEventId": 3,
            "taskStartedEventDetails": {
              "resource": "startExecution.sync",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskStarted"
          },
          {
            "id": 5,
            "previousEventId": 4,
            "taskSubmittedEventDetails": {
              "output": {
                "ExecutionArn": "arn:<partition>:states:<region>:111111111111:execution:<resource:1>:<resource:3>",
                "SdkHttpMetadata": {
                  "AllHttpHeaders": {
                    "x-amzn-RequestId": [
                      "<uuid:1>"
                    ],
                    "connection": [
                      "keep-alive"
                    ],
                    "Content-Length": [
                      "164"
                    ],
                    "Date": "date",
                    "Content-Type": [
                      "application/x-amz-json-1.0"
                    ]
                  },
                  "HttpHeaders": {
                    "connection": "keep-alive",
                    "Content-Length": "164",
                    "Content-Type": "application/x-amz-json-1.0",
                    "Date": "date",
                    "x-amzn-RequestId": "<uuid:1>"
                  },
                  "HttpStatusCode": 200
                },
                "SdkResponseMetadata": {
                  "RequestId": "<uuid:1>"
                },
                "StartDate": "start-date"
              },
              "outputDetails": {
                "truncated": false
              },
              "resource": "startExecution.sync",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskSubmitted"
          },
          {
            "id": 6,
            "previousEventId": 5,
            "taskSucceededEventDetails": {
              "output": "\"SQS_SEND_MESSAGE_AND_WAIT\"",
              "outputDetails": {
                "truncated": false
              },
              "resource": "startExecution.sync",
              "resourceType": "states"
            },
            "timestamp": "timestamp",
            "type": "TaskSucceeded"
          },
          {
            "id": 7,
            "previousEventId": 6,
            "stateExitedEventDetails": {
              "name": "StartExecution",
              "output": "\"SQS_SEND_MESSAGE_AND_WAIT\"",
              "outputDetails": {
                "truncated": false
              }
            },
            "timestamp": "timestamp",
            "type": "TaskStateExited"
          },
          {
            "executionSucceededEventDetails": {
              "output": "\"SQS_SEND_MESSAGE_AND_WAIT\"",
              "outputDetails": {
                "truncated": false
              }
            },
            "id": 8,
            "previousEventId": 7,
            "timestamp": "timestamp",
            "type": "ExecutionSucceeded"
          }
        ],
        "ResponseMetadata": {
          "HTTPHeaders": {},
          "HTTPStatusCode": 200
        }
      }
    }
  }
}
